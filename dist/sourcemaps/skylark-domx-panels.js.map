{"version":3,"sources":["skylark-domx-panels.js"],"names":["define","skylark","langx","browser","eventer","noder","geom","$","panels","CONST","BACKSPACE_KEYCODE","COMMA_KEYCODE","DELETE_KEYCODE","DOWN_ARROW_KEYCODE","ENTER_KEYCODE","TAB_KEYCODE","UP_ARROW_KEYCODE","isKey","keyCode","e","isBackspaceKey","isDeleteKey","isTabKey","isUpArrow","isDownArrow","ENCODED_REGEX","mixin","cleanInput","questionableMarkup","test","html","text","isShiftHeld","shiftKey","attach","plugins","Collapsable","Panel","Plugin","inherit","klassName","pluginName","options","toggler","selector","body","_construct","elm","this","overrided","_velm","elmx","_expanded","$toggle","find","$body","on","toggle","expand","emit","plugin","prototype","show","collapse","hide","full","unfull","toogleFull","close","register","Accordion","panel","template","forEach","panelEl","group","push","_panels","get","addPanel","remove","expandAll","collapseAll","active","Pagination","tagName","css","selectors","firstNavi","prevNavi","nextNavi","lastNavi","numericNavi","numericTxt","totalPages","maxButtonsVisible","currentPage","state","Number","$first","$prev","$last","$next","$numeric","self","checkCanAction","$elm","is","click","ret","numeric","pageNo","parseInt","_currentPage","_totalPages","_refresh","updates","totalPageNoBtns","Math","min","begin","end","count","size","visibles","i","filter","removeClass","$btn","eq","addClass","changePageNoBtns","changeLabeldBtns","v","undefined","Dropdown","TabButton","TabStrip","header","tab","content","tabpane","droptabs","dropdown","dropdownMenu","dropdownTabs","dropdownCaret","visibleTabs","auto","pullDropdownRight","$header","$tabs","$content","$tabpanes","each","idx","tabEl","target","arrange","dropdownTabsSelector","visibleTabsSelector","$container","dropdownLabel","clone","$dropdownTabs","$visibleTabs","tempElem","hiddenElementWidth","availableSpace","outerWidth","visibleTabsWidth","index","x","reverse","hasClass","prependTo","first","appendTo","detach","insertAfter","length","add","Toolbar","toolbarFloat","toolbarHidden","toolbarFloatOffset","separator","toolbarHeight","_this","opts","wrapper","_elm","list","document","width","editor","editable","util","reflow","os","mobile","position","left","offset","outerHeight","placeholderEl","addToolItem","itemWidget","addSeparator","Wizard","disablePreviousStep","selectedItem","step","$element","attr","currentStep","numSteps","$prevBtn","$nextBtn","kids","children","nextText","trim","append","steps","window","console","warn","proxy","previous","next","stepclicked","destroy","outerHTML","addSteps","l","$pane","$startPane","$startStep","$step","items","slice","call","arguments","$steps","$stepContent","Array","label","badge","pane","before","syncSteps","setState","removeSteps","howMany","$start","action","prev","item","canMovePrev","isFirstStep","isLastStep","last","lastText","prevSelector","$prevSteps","currentSelector","$currentStep","totalWidth","containerWidth","newMargin","create","trigger","initialized","li","currentTarget","evt","isDefaultPrevented","isNaN","direction","firstFormField","focus","retVal","stepname","main"],"mappings":"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","file":"../skylark-domx-panels.js","sourcesContent":["define('skylark-domx-panels/panels',[\r\n  \"skylark-langx/skylark\",\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-geom\",\r\n  \"skylark-domx-query\"\r\n],function(skylark,langx,browser,eventer,noder,geom,$){\r\n\tvar panels = {};\r\n\r\n\tvar CONST = {\r\n\t\tBACKSPACE_KEYCODE: 8,\r\n\t\tCOMMA_KEYCODE: 188, // `,` & `<`\r\n\t\tDELETE_KEYCODE: 46,\r\n\t\tDOWN_ARROW_KEYCODE: 40,\r\n\t\tENTER_KEYCODE: 13,\r\n\t\tTAB_KEYCODE: 9,\r\n\t\tUP_ARROW_KEYCODE: 38\r\n\t};\r\n\r\n\tvar isShiftHeld = function isShiftHeld (e) { return e.shiftKey === true; };\r\n\r\n\tvar isKey = function isKey (keyCode) {\r\n\t\treturn function compareKeycodes (e) {\r\n\t\t\treturn e.keyCode === keyCode;\r\n\t\t};\r\n\t};\r\n\r\n\tvar isBackspaceKey = isKey(CONST.BACKSPACE_KEYCODE);\r\n\tvar isDeleteKey = isKey(CONST.DELETE_KEYCODE);\r\n\tvar isTabKey = isKey(CONST.TAB_KEYCODE);\r\n\tvar isUpArrow = isKey(CONST.UP_ARROW_KEYCODE);\r\n\tvar isDownArrow = isKey(CONST.DOWN_ARROW_KEYCODE);\r\n\r\n\tvar ENCODED_REGEX = /&[^\\s]*;/;\r\n\t/*\r\n\t * to prevent double encoding decodes content in loop until content is encoding free\r\n\t */\r\n\tvar cleanInput = function cleanInput (questionableMarkup) {\r\n\t\t// check for encoding and decode\r\n\t\twhile (ENCODED_REGEX.test(questionableMarkup)) {\r\n\t\t\tquestionableMarkup = $('<i>').html(questionableMarkup).text();\r\n\t\t}\r\n\r\n\t\t// string completely decoded now encode it\r\n\t\treturn $('<i>').text(questionableMarkup).html();\r\n\t};\r\n\r\n\tlangx.mixin(panels, {\r\n\t\tCONST: CONST,\r\n\t\tcleanInput: cleanInput,\r\n\t\tisBackspaceKey: isBackspaceKey,\r\n\t\tisDeleteKey: isDeleteKey,\r\n\t\tisShiftHeld: isShiftHeld,\r\n\t\tisTabKey: isTabKey,\r\n\t\tisUpArrow: isUpArrow,\r\n\t\tisDownArrow: isDownArrow\r\n\t});\r\n\r\n\treturn skylark.attach(\"domx.panels\",panels);\r\n\r\n});\r\n\ndefine('skylark-domx-panels/Panel',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-geom\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins\",\r\n  \"skylark-domx-toggles/Collapsable\",\r\n  \"./panels\",\r\n],function(langx,browser,eventer,noder,geom,$,plugins,Collapsable,panels){\r\n\r\n  var Panel = plugins.Plugin.inherit({\r\n    klassName : \"Panel\",\r\n\r\n    pluginName : \"domx.pandels.panel\",\r\n\r\n    options : {\r\n      toggler : {\r\n        selector : \".panel-heading [data-toggle=\\\"collapse\\\"]\"\r\n      },\r\n\r\n      body : {\r\n        selector : \".panel-collapse\"\r\n      }\r\n    },\r\n\r\n    _construct : function(elm,options) {\r\n      this.overrided(elm,options);\r\n      this._velm = this.elmx();\r\n      this._expanded = false;\r\n      this.$toggle = this._velm.find(this.options.toggler.selector);\r\n      this.$body = this._velm.find(this.options.body.selector);\r\n      this.$toggle.on('click.panel',(e) => {\r\n        this.toggle();\r\n      });\r\n\r\n    },\r\n\r\n    expand : function() {\r\n      // expand this panel\r\n      this.emit(\"expanding\");\r\n      this.$body.plugin(Collapsable.prototype.pluginName).show();\r\n      this._expanded = true;\r\n      this.emit(\"expanded\");\r\n    },\r\n\r\n    collapse : function() {\r\n      // collapse this panel\r\n      this.emit(\"collapsing\");\r\n      this.$body.plugin(Collapsable.prototype.pluginName).hide();\r\n      this._expanded = false;\r\n      this.emit(\"collapsed\");\r\n    },\r\n\r\n    toggle : function() {\r\n      // toggle this panel\r\n      if (this._expanded) {\r\n        this.collapse();\r\n      } else {\r\n        this.expand();\r\n      }\r\n    },\r\n\r\n    full : function() {\r\n\r\n    },\r\n\r\n    unfull : function() {\r\n\r\n    },\r\n\r\n    toogleFull : function() {\r\n\r\n    },\r\n    \r\n    close: function () {\r\n    }\r\n\r\n\r\n  });\r\n\r\n  plugins.register(Panel);\r\n\r\n  return Panel;\r\n\r\n});\n define('skylark-domx-panels/Accordion',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins\",\r\n  \"./panels\",\r\n  \"./Panel\"\r\n],function(langx,$,elmx,plugins,panels,Panel){\r\n\r\n  var Accordion = plugins.Plugin.inherit({\r\n    klassName : \"Accordion\",\r\n\r\n    pluginName : \"domx.panels.accordion\",\r\n\r\n    options : {\r\n      panel: {\r\n        selector : \"> .panel\",\r\n        template : null,\r\n      }\r\n    },\r\n\r\n     _construct : function(elm,options) {\r\n      this.overrided(elm,options);\r\n      this._velm = this.elmx();\r\n      var panels = [];\r\n      this._velm.$(this.options.panel.selector).forEach((panelEl) => {\r\n        var panel = new Accordion.Panel(panelEl,{\r\n          group : this\r\n        });\r\n        panels.push(panel);\r\n      });\r\n      this._panels = panels;\r\n    },\r\n\r\n    panels : {\r\n      get : function() {\r\n\r\n      }\r\n    },\r\n\r\n\r\n    addPanel : function() {\r\n\r\n    },\r\n\r\n    /**\r\n     * Removes a group pane.\r\n     *\r\n     * @method remove\r\n     * @return {Accordion} The current widget.\r\n     */\r\n    remove : function() {\r\n\r\n    },\r\n\r\n    /**\r\n     * Expands a group pane.\r\n     *\r\n     * @method remove\r\n     * @return {Accordion} The current widget.\r\n     */\r\n    expand : function() {\r\n      // expand a panel\r\n\r\n    },\r\n\r\n    /**\r\n     * Expands all group panes.\r\n     *\r\n     * @method expandAll\r\n     * @return {Accordion} The current widget.\r\n     */\r\n    expandAll : function() {\r\n      // expand a panel\r\n\r\n    },\r\n\r\n    /**\r\n     * Collapse a group pane.\r\n     *\r\n     * @method collapse\r\n     * @return {Accordion} The current widget.\r\n     */\r\n    collapse : function() {\r\n\r\n    },\r\n\r\n    /**\r\n     * Collapses all group pane.\r\n     *\r\n     * @method collapseAll\r\n     * @return {Accordion} The current widget.\r\n     */\r\n    collapseAll : function() {\r\n\r\n    }\r\n  });\r\n\r\n  Accordion.Panel = Panel.inherit({\r\n    klassName : \"AccordionPanel\",\r\n\r\n    expand : function() {\r\n      if (this.options.group.active) {\r\n        this.options.group.active.collapse();\r\n      }\r\n      this.overrided();\r\n      this.options.group.active = this;\r\n    },\r\n\r\n    collapse : function() {\r\n      this.overrided();\r\n      this.options.group.active = null;\r\n    },\r\n\r\n    toggle : function() {\r\n      this.overrided();\r\n    },\r\n\r\n    remove : function() {\r\n      this.overrided();\r\n    }\r\n\r\n  });\r\n\r\n  plugins.register(Accordion);\r\n\r\n  return panels.Accordion = Accordion;\r\n});\r\n\ndefine('skylark-domx-panels/Pagination',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-geom\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins\",\r\n  \"./panels\"\r\n],function(langx,browser,eventer,noder,geom,$,plugins,panels){\r\n\r\n  'use strict';\r\n\r\n  var Pagination = plugins.Plugin.inherit({\r\n      klassName : \"Pagination\",\r\n\r\n      pluginName : \"domx.panels.pagination\",\r\n\r\n      options : {\r\n          tagName : \"ul\",\r\n          css : \"\",\r\n          selectors : {\r\n              firstNavi : \"li[aria-label='first']\",\r\n              prevNavi : \"li[aria-label='prev']\",\r\n              nextNavi : \"li[aria-label='next']\",\r\n              lastNavi : \"li[aria-label='last']\",\r\n              numericNavi : \"li:not([aria-label])\",\r\n              numericTxt  : \"a\"\r\n          },\r\n          totalPages: 7,\r\n          maxButtonsVisible: 5,\r\n          currentPage: 1     \r\n      },\r\n\r\n      state : {\r\n          totalPages : Number,\r\n          currentPage : Number\r\n      },\r\n\r\n      _construct : function(elm,options) {\r\n        this.overrided(elm,options);\r\n        this._velm = this.elmx();\r\n\r\n        this.$first = this._velm.$(this.options.selectors.firstNavi);\r\n        this.$prev = this._velm.$(this.options.selectors.prevNavi);\r\n        this.$last = this._velm.$(this.options.selectors.lastNavi);\r\n        this.$next = this._velm.$(this.options.selectors.nextNavi);\r\n        this.$numeric = this._velm.$(this.options.selectors.numericNavi);\r\n\r\n        var self = this;\r\n\r\n        function checkCanAction(elm) {\r\n          var $elm = $(elm);\r\n          if ($elm.is(\".disabled,.active\")) {\r\n            return false;\r\n          } else {\r\n            return $elm;\r\n          }\r\n        }\r\n\r\n        this.$first.click(function(){\r\n          if (!checkCanAction(this)) {\r\n            return;\r\n          }\r\n          self.currentPage(1);\r\n        });\r\n\r\n        this.$prev.click(function(){\r\n          if (!checkCanAction(this)) {\r\n            return;\r\n          }\r\n          self.currentPage(self.currentPage()-1);\r\n        });\r\n\r\n        this.$last.click(function(){\r\n          if (!checkCanAction(this)) {\r\n            return;\r\n          }\r\n          self.currentPage(self.totalPages());\r\n        });\r\n\r\n        this.$next.click(function(){\r\n          if (!checkCanAction(this)) {\r\n            return;\r\n          }\r\n          self.currentPage(self.currentPage()+1);\r\n        });\r\n\r\n        this.$numeric.click(function(){\r\n          var ret = checkCanAction(this)\r\n          if (!ret) {\r\n            return;\r\n          }\r\n          var numeric = ret.find(self.options.selectors.numericTxt).text(),\r\n              pageNo = parseInt(numeric);\r\n          self.currentPage(pageNo);\r\n\r\n        });\r\n\r\n        this._currentPage = this.options.currentPage;\r\n        this._totalPages = this.options.totalPages;\r\n\r\n        this._refresh({\r\n          currentPage : true,\r\n          totalPages : true\r\n        });\r\n      },\r\n\r\n      _refresh: function (updates) {\r\n        var self = this;\r\n\r\n        function changePageNoBtns(currentPage,totalPages) {\r\n\r\n          // Create the numeric buttons.\r\n          // Variable of number control in the buttons.\r\n          var totalPageNoBtns = Math.min(totalPages, self.options.maxButtonsVisible);\r\n          var begin = 1;\r\n          var end = begin + totalPageNoBtns - 1;\r\n\r\n          /*\r\n           * Align the values in the begin and end variables if the user has the\r\n           * possibility that select a page that doens't appear in the paginador.\r\n           * e.g currentPage = 1, and user go to the 20 page.\r\n           */\r\n          while ((currentPage < begin) || (currentPage > end)) {\r\n            if (currentPage > end) {\r\n               begin += totalPageNoBtns;\r\n               end += totalPageNoBtns;\r\n\r\n               if (end > totalPages) {\r\n                 begin = begin - (end - totalPages);\r\n                 end = totalPages;\r\n               }\r\n             } else {\r\n               begin -= totalPageNoBtns;\r\n               end -= totalPageNoBtns;\r\n\r\n               if (begin < 0) {\r\n                 end = end + (begin + totalPageNoBtns);\r\n                 begin = 1;\r\n               }\r\n             }\r\n          }\r\n         /*\r\n          * Verify if the user clicks in the last page show by paginator.\r\n          * If yes, the paginator advances.\r\n          */\r\n          if ((currentPage === end) && (totalPages != 1)) {\r\n            begin = currentPage - 1;\r\n            end = begin + totalPageNoBtns - 1;\r\n\r\n            if (end >= totalPages) {\r\n              begin = begin - (end - (totalPages));\r\n              end = totalPages;\r\n            }\r\n          }\r\n\r\n          /*\r\n           * Verify it the user clicks in the first page show by paginator.\r\n           * If yes, the paginator retrogress\r\n           */\r\n           if ((begin === currentPage) && (totalPages != 1)) {\r\n             if (currentPage != 1) {\r\n               end = currentPage + 1;\r\n               begin = end - (totalPageNoBtns - 1);\r\n             }\r\n           }\r\n\r\n           var count = self.$numeric.size(),\r\n               visibles = end-begin + 1,\r\n               i = 0;\r\n\r\n           self.$numeric.filter(\".active\").removeClass(\"active\");\r\n           while (i<visibles) {\r\n             var pageNo = i + begin,\r\n                 $btn = self.$numeric.eq(i);\r\n             $btn.find(self.options.selectors.numericTxt).text(i+begin).show();\r\n             if (pageNo == currentPage) {\r\n              $btn.addClass(\"active\");\r\n             }\r\n             i++;\r\n           }\r\n           while (i<count) {\r\n             self.$numeric.eq(i).find(self.options.selectors.numericTxt).text(i+begin).hide();\r\n             i++;\r\n           }\r\n\r\n\r\n        }\r\n\r\n        function changeLabeldBtns(currentPage,totalPages) {\r\n          if (currentPage < 1) {\r\n            throw('Page can\\'t be less than 1');\r\n          } else if (currentPage > totalPages) {\r\n            throw('Page is bigger than total pages');\r\n          }\r\n\r\n          if (totalPages < 1) {\r\n            throw('Total Pages can\\'t be less than 1');\r\n          }\r\n\r\n          if (currentPage == 1 ) {\r\n            self.$first.addClass(\"disabled\");\r\n            self.$prev.addClass(\"disabled\");\r\n          } else {\r\n            self.$first.removeClass(\"disabled\");\r\n            self.$prev.removeClass(\"disabled\");\r\n          }\r\n\r\n          if (currentPage == totalPages ) {\r\n            self.$last.addClass(\"disabled\");\r\n            self.$next.addClass(\"disabled\");\r\n          } else {\r\n            self.$last.removeClass(\"disabled\");\r\n            self.$next.removeClass(\"disabled\");\r\n          }\r\n        }\r\n\r\n        if (updates.currentPage || updates.totalPages) {\r\n          var currentPage = self.currentPage(),\r\n              totalPages = self.totalPages();\r\n\r\n          changePageNoBtns(currentPage,totalPages);\r\n          changeLabeldBtns(currentPage,totalPages);\r\n        }\r\n\r\n      },\r\n\r\n      currentPage : function(v) {\r\n        if (v !== undefined) {\r\n          this._currentPage = v;\r\n          this._refresh({\r\n            currentPage : true\r\n          });            \r\n          return this;\r\n        } else {\r\n          return this._currentPage;\r\n        }\r\n      },\r\n\r\n      totalPages : function(v) {\r\n        if (v !== undefined) {\r\n          this._totalPages = v;\r\n          this._refresh({\r\n            totalPages : true\r\n          });\r\n          return this;\r\n        } else {\r\n          return this._totalPages;\r\n        }\r\n      }\r\n  });\r\n\r\n  plugins.register(Pagination);\r\n\r\n\r\n  return panels.Pagination = Pagination;\r\n});\ndefine('skylark-domx-panels/TabStrip',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-browser\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins\",\r\n    \"skylark-domx-popups/Dropdown\",\r\n    \"skylark-domx-toggles/TabButton\",\r\n    \"./panels\",\r\n], function(langx, browser, eventer, noder, geom,  $, plugins,Dropdown, TabButton,panels) {\r\n\r\n    var TabStrip = plugins.Plugin.inherit({\r\n        klassName : \"TabStrip\",\r\n        pluginName : \"domx.panels.tabstrip\",\r\n\r\n        options : {\r\n          selectors : {\r\n            header : \".nav-tabs\",\r\n            tab : \"[data-toggle=\\\"tab\\\"]\",\r\n            content : \".tab-content\",\r\n            tabpane : \".tab-pane\"\r\n          },\r\n\r\n          droptabs : {\r\n            selectors : {\r\n              dropdown : \"li.droptabs\",\r\n              dropdownMenu    : \"ul.dropdown-menu\",\r\n              dropdownTabs    : \"li\",\r\n              dropdownCaret   : \"b.caret\",\r\n              visibleTabs     : \">li:not(.dropdown)\",\r\n            },\r\n            auto              : true,\r\n            pullDropdownRight : true,\r\n\r\n\r\n          }\r\n        },\r\n\r\n     _construct : function(elm,options) {\r\n          this.overrided(elm,options);\r\n          this._velm = this.elmx();\r\n          this.$header = this._velm.$(this.options.selectors.header); \r\n          this.$tabs = this.$header.find(this.options.selectors.tab);\r\n          this.$content = this._velm.$(this.options.selectors.content);\r\n          this.$tabpanes = this.$content.find(this.options.selectors.tabpane);\r\n\r\n          this.$header.find('[data-toggle=\"dropdown\"]').plugin(Dropdown.prototype.pluginName);\r\n\r\n          var self = this;\r\n          this.$tabs.each(function(idx,tabEl){\r\n            $(tabEl).plugin(TabButton.prototype.pluginName, {\r\n              target : self.$tabpanes[idx]\r\n            });\r\n          });\r\n\r\n        },\r\n\r\n        arrange : function () {\r\n\r\n          var dropdownTabsSelector = this.options.droptabs.selectors.dropdownTabs,\r\n              visibleTabsSelector = this.options.droptabs.selectors.visibleTabs;\r\n\r\n              $container = this.$header;\r\n          var dropdown = $container.find(this.options.droptabs.selectors.dropdown);\r\n          var dropdownMenu = dropdown.find(this.options.droptabs.selectors.dropdownMenu);\r\n          var dropdownLabel = $('>a', dropdown).clone();\r\n          var dropdownCaret = $(this.options.droptabs.selectors.dropdownCaret, dropdown);\r\n\r\n          // We only want the default label, strip the caret out\r\n          $(this.options.droptabs.selectors.dropdownCaret, dropdownLabel).remove();\r\n\r\n          if (this.options.droptabs.pullDropdownRight) {\r\n            $(dropdown).addClass('pull-right');\r\n          }\r\n\r\n          var $dropdownTabs = function () {\r\n            return $(dropdownTabsSelector, dropdownMenu);\r\n          }\r\n\r\n          var $visibleTabs = function () {\r\n            return $(visibleTabsSelector, $container);\r\n          }\r\n\r\n          function getFirstHiddenElementWidth() {\r\n            var tempElem=$dropdownTabs().first().clone().appendTo($container).css(\"position\",\"fixed\");\r\n            var hiddenElementWidth = $(tempElem).outerWidth();\r\n            $(tempElem).remove();\r\n            return hiddenElementWidth;\r\n          }\r\n\r\n          function getHiddenElementWidth(elem) {\r\n            var tempElem=$(elem).clone().appendTo($container).css(\"position\",\"fixed\");\r\n            var hiddenElementWidth = $(tempElem).outerWidth();\r\n            $(tempElem).remove();\r\n            return hiddenElementWidth;\r\n          }\r\n\r\n          function getDropdownLabel() {\r\n            var labelText = 'Dropdown';\r\n            if ($(dropdown).hasClass('active')) {\r\n              labelText = $('>li.active>a', dropdownMenu).html();\r\n            } else if (dropdownLabel.html().length > 0) {\r\n              labelText = dropdownLabel.html();\r\n            }\r\n\r\n            labelText = $.trim(labelText);\r\n\r\n            if (labelText.length > 10) {\r\n              labelText = labelText.substring(0, 10) + '...';\r\n            }\r\n\r\n            return labelText;\r\n          }\r\n\r\n          function renderDropdownLabel() {\r\n            $('>a', dropdown).html(getDropdownLabel() + ' ' + dropdownCaret.prop('outerHTML'));\r\n          }\r\n\r\n          function manageActive(elem) {\r\n            //fixes a bug where Bootstrap can't remove the 'active' class on elements after they've been hidden inside the dropdown\r\n            $('a', $(elem)).on('show.bs.tab', function (e) {\r\n              $(e.relatedTarget).parent().removeClass('active');\r\n            })\r\n            $('a', $(elem)).on('shown.bs.tab', function (e) {\r\n              renderDropdownLabel();\r\n            })\r\n\r\n          }\r\n\r\n          function checkDropdownSelection() {\r\n            if ($($dropdownTabs()).filter('.active').length > 0) {\r\n              $(dropdown).addClass('active');\r\n            } else {\r\n              $(dropdown).removeClass('active');\r\n            }\r\n\r\n            renderDropdownLabel();\r\n          }\r\n\r\n\r\n          var visibleTabsWidth = function () {\r\n            var visibleTabsWidth = 0;\r\n            $($visibleTabs()).each(function( index ) {\r\n              visibleTabsWidth += parseInt($(this).outerWidth(), 10);\r\n            });\r\n            visibleTabsWidth = visibleTabsWidth + parseInt($(dropdown).outerWidth(), 10);\r\n            return visibleTabsWidth;\r\n          }\r\n\r\n          var availableSpace = function () {\r\n            return $container.outerWidth()-visibleTabsWidth();\r\n          }\r\n\r\n          if (availableSpace()<0) {//we will hide tabs here\r\n            var x = availableSpace();\r\n            $($visibleTabs().get().reverse()).each(function( index ){\r\n              if (!($(this).hasClass('always-visible'))){\r\n                  $(this).prependTo(dropdownMenu);\r\n                  x=x+$(this).outerWidth();\r\n              }\r\n              if (x>=0) {return false;}\r\n            });\r\n          }\r\n\r\n          if (availableSpace()>getFirstHiddenElementWidth()) { //and here we bring the tabs out\r\n            var x = availableSpace();\r\n            $($dropdownTabs()).each(function( index ){\r\n              if (getHiddenElementWidth(this) < x && !($(this).hasClass('always-dropdown'))){\r\n                $(this).appendTo($container);\r\n                x = x-$(this).outerWidth();\r\n              } else {return false;}\r\n             });\r\n\r\n            if (!this.options.droptabs.pullDropdownRight && !$(dropdown).is(':last-child')) {\r\n              // If not pulling-right, keep the dropdown at the end of the container.\r\n              $(dropdown).detach().insertAfter($container.find('li:last-child'));\r\n            }\r\n          }\r\n\r\n          if ($dropdownTabs().length <= 0) {\r\n            dropdown.hide();\r\n          } else {\r\n            dropdown.show();\r\n          }\r\n        },\r\n\r\n        add : function() {\r\n          //TODO\r\n        },\r\n\r\n        remove : function(){\r\n          //TODO\r\n        }\r\n    });\r\n\r\n    plugins.register(TabStrip);\r\n\r\n\r\n    return panels.TabStrip = TabStrip;\r\n\r\n});\ndefine('skylark-domx-panels/Toolbar',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins\",\r\n  \"./panels\"\r\n],function(langx,$,plugins,panels){ \r\n\r\n\r\n  var Toolbar = plugins.Plugin.inherit({\r\n    klassName : \"Toolbar\",\r\n\r\n    pluginName : \"domx.panels.toolbar\",\r\n\r\n    options : {\r\n      toolbarFloat: true,\r\n      toolbarHidden: false,\r\n      toolbarFloatOffset: 0,\r\n      template : '<div class=\"domx-toolbar\"><ul></ul></div>',\r\n      separator : {\r\n        template :  '<li><span class=\"separator\"></span></li>'\r\n      }\r\n    },\r\n\r\n    _construct : function(elm,options) {\r\n      this.overrided(elm,options);\r\n      this._velm = this.elmx();\r\n\r\n      var floatInitialized, initToolbarFloat, toolbarHeight;\r\n      //this.editor = editor;\r\n\r\n      //this.opts = langx.extend({}, this.opts, opts);\r\n      this.opts = this.options;\r\n\r\n\r\n      //if (!langx.isArray(this.opts.toolbar)) {\r\n      //  this.opts.toolbar = ['bold', 'italic', 'underline', 'strikethrough', '|', 'ol', 'ul', 'blockquote', 'code', '|', 'link', 'image', '|', 'indent', 'outdent'];\r\n      //}\r\n\r\n      this.wrapper = $(this._elm);\r\n      this.list = this.wrapper.find('ul');\r\n      this.list.on('click', function(e) {\r\n        return false;\r\n      });\r\n      this.wrapper.on('mousedown', (function(_this) {\r\n        return function(e) {\r\n          return _this.list.find('.menu-on').removeClass('.menu-on');\r\n        };\r\n      })(this));\r\n      $(document).on('mousedown.toolbar', (function(_this) {\r\n        return function(e) {\r\n          return _this.list.find('.menu-on').removeClass('menu-on');\r\n        };\r\n      })(this));\r\n      if (!this.opts.toolbarHidden && this.opts.toolbarFloat) {\r\n        this.wrapper.css('top', this.opts.toolbarFloatOffset);\r\n        toolbarHeight = 0;\r\n        initToolbarFloat = (function(_this) {\r\n          return function() {\r\n            _this.wrapper.css('position', 'static');\r\n            _this.wrapper.width('auto');\r\n            _this.editor.editable.util.reflow(_this.wrapper);\r\n            _this.wrapper.width(_this.wrapper.outerWidth());\r\n            _this.wrapper.css('left', _this.editor.editable.util.os.mobile ? _this.wrapper.position().left : _this.wrapper.offset().left);\r\n            _this.wrapper.css('position', '');\r\n            toolbarHeight = _this.wrapper.outerHeight();\r\n            _this.editor.placeholderEl.css('top', toolbarHeight);\r\n            return true;\r\n          };\r\n        })(this);\r\n        floatInitialized = null;\r\n\r\n        /*\r\n        $(window).on('resize.richeditor-' + this.editor.id, function(e) {\r\n          return floatInitialized = initToolbarFloat();\r\n        });\r\n        $(window).on('scroll.richeditor-' + this.editor.id, (function(_this) {\r\n          return function(e) {\r\n            var bottomEdge, scrollTop, topEdge;\r\n            if (!_this.wrapper.is(':visible')) {\r\n              return;\r\n            }\r\n            topEdge = _this.editor.wrapper.offset().top;\r\n            bottomEdge = topEdge + _this.editor.wrapper.outerHeight() - 80;\r\n            scrollTop = $(document).scrollTop() + _this.opts.toolbarFloatOffset;\r\n            if (scrollTop <= topEdge || scrollTop >= bottomEdge) {\r\n              _this.editor.wrapper.removeClass('toolbar-floating').css('padding-top', '');\r\n              if (_this.editor.editable.util.os.mobile) {\r\n                return _this.wrapper.css('top', _this.opts.toolbarFloatOffset);\r\n              }\r\n            } else {\r\n              floatInitialized || (floatInitialized = initToolbarFloat());\r\n              _this.editor.wrapper.addClass('toolbar-floating').css('padding-top', toolbarHeight);\r\n              if (_this.editor.editable.util.os.mobile) {\r\n                return _this.wrapper.css('top', scrollTop - topEdge + _this.opts.toolbarFloatOffset);\r\n              }\r\n            }\r\n          };\r\n        })(this));\r\n        */\r\n      }\r\n\r\n      /*\r\n      this.editor.on('destroy', (function(_this) {\r\n        return function() {\r\n          return _this.buttons.length = 0;\r\n        };\r\n      })(this));\r\n      */\r\n\r\n      \r\n    },\r\n\r\n    addToolItem : function(itemWidget) {\r\n      $(itemWidget._elm).appendTo(this.list);\r\n      return this;\r\n    },\r\n\r\n    addSeparator : function() {\r\n      $(this.options.separator.template).appendTo(this.list);\r\n      return this;\r\n    }\r\n\r\n  });\r\n\r\n  plugins.register(Toolbar);\r\n\r\n  return panels.Toolbar = Toolbar;\r\n\r\n});\ndefine('skylark-domx-panels/Wizard',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-geom\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins\",\r\n  \"./panels\"\r\n],function(langx,browser,eventer,noder,geom,$,plugins,panels){\r\n\r\n\r\n\tvar Wizard = plugins.Plugin.inherit({\r\n\t\tklassName: \"Wizard\",\r\n\r\n\t    pluginName : \"domx.panels.wizard\",\r\n\r\n\t    options : {\r\n\t\t\tdisablePreviousStep: false,\r\n\t\t\tselectedItem: {\r\n\t\t\t\tstep: -1\r\n\t\t\t}//-1 means it will attempt to look for \"active\" class in order to set the step\r\n\t    },\r\n\r\n\t    _construct : function(elm,options) {\r\n\t\t    this.overrided(elm,options);\r\n\r\n\t\t\tthis.$element = this.$();\r\n\t\t\tthis.options.disablePreviousStep = (this.$element.attr('data-restrict') === 'previous') ? true : this.options.disablePreviousStep;\r\n\t\t\tthis.currentStep = this.options.selectedItem.step;\r\n\t\t\tthis.numSteps = this.$element.find('.steps li').length;\r\n\t\t\tthis.$prevBtn = this.$element.find('button.btn-prev');\r\n\t\t\tthis.$nextBtn = this.$element.find('button.btn-next');\r\n\r\n\t\t\tvar kids = this.$nextBtn.children().detach();\r\n\t\t\tthis.nextText = langx.trim(this.$nextBtn.text());\r\n\t\t\tthis.$nextBtn.append(kids);\r\n\r\n\t\t\tvar steps = this.$element.children('.steps-container');\r\n\t\t\t// maintains backwards compatibility with < 3.8, will be removed in the future\r\n\t\t\tif (steps.length === 0) {\r\n\t\t\t\tsteps = this.$element;\r\n\t\t\t\tthis.$element.addClass('no-steps-container');\r\n\t\t\t\tif (window && window.console && window.console.warn) {\r\n\t\t\t\t\twindow.console.warn('please update your wizard markup to include \".steps-container\" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsteps = steps.find('.steps');\r\n\r\n\t\t\t// handle events\r\n\t\t\tthis.$prevBtn.on('click.fu.wizard', langx.proxy(this.previous, this));\r\n\t\t\tthis.$nextBtn.on('click.fu.wizard', langx.proxy(this.next, this));\r\n\t\t\tsteps.on('click.fu.wizard', 'li.complete', langx.proxy(this.stepclicked, this));\r\n\r\n\t\t\tthis.selectedItem(this.options.selectedItem);\r\n\r\n\t\t\tif (this.options.disablePreviousStep) {\r\n\t\t\t\tthis.$prevBtn.attr('disabled', true);\r\n\t\t\t\tthis.$element.find('.steps').addClass('previous-disabled');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function () {\r\n\t\t\tthis.$element.remove();\r\n\t\t\t// any external bindings [none]\r\n\t\t\t// empty elements to return to original markup [none]\r\n\t\t\t// returns string of markup\r\n\t\t\treturn this.$element[0].outerHTML;\r\n\t\t},\r\n\r\n\t\t//index is 1 based\r\n\t\t//second parameter can be array of objects [{ ... }, { ... }] or you can pass n additional objects as args\r\n\t\t//object structure is as follows (all params are optional): { badge: '', label: '', pane: '' }\r\n\t\taddSteps: function (index) {\r\n\t\t\tvar items = [].slice.call(arguments).slice(1);\r\n\t\t\tvar $steps = this.$element.find('.steps');\r\n\t\t\tvar $stepContent = this.$element.find('.step-content');\r\n\t\t\tvar i, l, $pane, $startPane, $startStep, $step;\r\n\r\n\t\t\tindex = (index === -1 || (index > (this.numSteps + 1))) ? this.numSteps + 1 : index;\r\n\t\t\tif (items[0] instanceof Array) {\r\n\t\t\t\titems = items[0];\r\n\t\t\t}\r\n\r\n\t\t\t$startStep = $steps.find('li:nth-child(' + index + ')');\r\n\t\t\t$startPane = $stepContent.find('.step-pane:nth-child(' + index + ')');\r\n\t\t\tif ($startStep.length < 1) {\r\n\t\t\t\t$startStep = null;\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = 0, l = items.length; i < l; i++) {\r\n\t\t\t\t$step = $('<li data-step=\"' + index + '\"><span class=\"badge badge-info\"></span></li>');\r\n\t\t\t\t$step.append(items[i].label || '').append('<span class=\"chevron\"></span>');\r\n\t\t\t\t$step.find('.badge').append(items[i].badge || index);\r\n\r\n\t\t\t\t$pane = $('<div class=\"step-pane\" data-step=\"' + index + '\"></div>');\r\n\t\t\t\t$pane.append(items[i].pane || '');\r\n\r\n\t\t\t\tif (!$startStep) {\r\n\t\t\t\t\t$steps.append($step);\r\n\t\t\t\t\t$stepContent.append($pane);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$startStep.before($step);\r\n\t\t\t\t\t$startPane.before($pane);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\r\n\t\t\tthis.syncSteps();\r\n\t\t\tthis.numSteps = $steps.find('li').length;\r\n\t\t\tthis.setState();\r\n\t\t},\r\n\r\n\t\t//index is 1 based, howMany is number to remove\r\n\t\tremoveSteps: function (index, howMany) {\r\n\t\t\tvar action = 'nextAll';\r\n\t\t\tvar i = 0;\r\n\t\t\tvar $steps = this.$element.find('.steps');\r\n\t\t\tvar $stepContent = this.$element.find('.step-content');\r\n\t\t\tvar $start;\r\n\r\n\t\t\thowMany = (howMany !== undefined) ? howMany : 1;\r\n\r\n\t\t\tif (index > $steps.find('li').length) {\r\n\t\t\t\t$start = $steps.find('li:last');\r\n\t\t\t} else {\r\n\t\t\t\t$start = $steps.find('li:nth-child(' + index + ')').prev();\r\n\t\t\t\tif ($start.length < 1) {\r\n\t\t\t\t\taction = 'children';\r\n\t\t\t\t\t$start = $steps;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$start[action]().each(function () {\r\n\t\t\t\tvar item = $(this);\r\n\t\t\t\tvar step = item.attr('data-step');\r\n\t\t\t\tif (i < howMany) {\r\n\t\t\t\t\titem.remove();\r\n\t\t\t\t\t$stepContent.find('.step-pane[data-step=\"' + step + '\"]:first').remove();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ti++;\r\n\t\t\t});\r\n\r\n\t\t\tthis.syncSteps();\r\n\t\t\tthis.numSteps = $steps.find('li').length;\r\n\t\t\tthis.setState();\r\n\t\t},\r\n\r\n\t\tsetState: function () {\r\n\t\t\tvar canMovePrev = (this.currentStep > 1);//remember, steps index is 1 based...\r\n\t\t\tvar isFirstStep = (this.currentStep === 1);\r\n\t\t\tvar isLastStep = (this.currentStep === this.numSteps);\r\n\r\n\t\t\t// disable buttons based on current step\r\n\t\t\tif (!this.options.disablePreviousStep) {\r\n\t\t\t\tthis.$prevBtn.attr('disabled', (isFirstStep === true || canMovePrev === false));\r\n\t\t\t}\r\n\r\n\t\t\t// change button text of last step, if specified\r\n\t\t\tvar last = this.$nextBtn.attr('data-last');\r\n\t\t\tif (last) {\r\n\t\t\t\tthis.lastText = last;\r\n\t\t\t\t// replace text\r\n\t\t\t\tvar text = this.nextText;\r\n\t\t\t\tif (isLastStep === true) {\r\n\t\t\t\t\ttext = this.lastText;\r\n\t\t\t\t\t// add status class to wizard\r\n\t\t\t\t\tthis.$element.addClass('complete');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$element.removeClass('complete');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar kids = this.$nextBtn.children().detach();\r\n\t\t\t\tthis.$nextBtn.text(text).append(kids);\r\n\t\t\t}\r\n\r\n\t\t\t// reset classes for all steps\r\n\t\t\tvar $steps = this.$element.find('.steps li');\r\n\t\t\t$steps.removeClass('active').removeClass('complete');\r\n\t\t\t$steps.find('span.badge').removeClass('badge-info').removeClass('badge-success');\r\n\r\n\t\t\t// set class for all previous steps\r\n\t\t\tvar prevSelector = '.steps li:lt(' + (this.currentStep - 1) + ')';\r\n\t\t\tvar $prevSteps = this.$element.find(prevSelector);\r\n\t\t\t$prevSteps.addClass('complete');\r\n\t\t\t$prevSteps.find('span.badge').addClass('badge-success');\r\n\r\n\t\t\t// set class for current step\r\n\t\t\tvar currentSelector = '.steps li:eq(' + (this.currentStep - 1) + ')';\r\n\t\t\tvar $currentStep = this.$element.find(currentSelector);\r\n\t\t\t$currentStep.addClass('active');\r\n\t\t\t$currentStep.find('span.badge').addClass('badge-info');\r\n\r\n\t\t\t// set display of target element\r\n\t\t\tvar $stepContent = this.$element.find('.step-content');\r\n\t\t\tvar target = $currentStep.attr('data-step');\r\n\t\t\t$stepContent.find('.step-pane').removeClass('active');\r\n\t\t\t$stepContent.find('.step-pane[data-step=\"' + target + '\"]:first').addClass('active');\r\n\r\n\t\t\t// reset the wizard position to the left\r\n\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: 0');\r\n\r\n\t\t\t// check if the steps are wider than the container div\r\n\t\t\tvar totalWidth = 0;\r\n\t\t\tthis.$element.find('.steps > li').each(function () {\r\n\t\t\t\ttotalWidth += $(this).outerWidth();\r\n\t\t\t});\r\n\t\t\tvar containerWidth = 0;\r\n\t\t\tif (this.$element.find('.actions').length) {\r\n\t\t\t\tcontainerWidth = this.$element.width() - this.$element.find('.actions').first().outerWidth();\r\n\t\t\t} else {\r\n\t\t\t\tcontainerWidth = this.$element.width();\r\n\t\t\t}\r\n\r\n\t\t\tif (totalWidth > containerWidth) {\r\n\t\t\t\t// set the position so that the last step is on the right\r\n\t\t\t\tvar newMargin = totalWidth - containerWidth;\r\n\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: -' + newMargin + 'px');\r\n\r\n\t\t\t\t// set the position so that the active step is in a good\r\n\t\t\t\t// position if it has been moved out of view\r\n\t\t\t\tif (this.$element.find('li.active').first().position().left < 200) {\r\n\t\t\t\t\tnewMargin += this.$element.find('li.active').first().position().left - 200;\r\n\t\t\t\t\tif (newMargin < 1) {\r\n\t\t\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: 0');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: -' + newMargin + 'px');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// only fire changed event after initializing\r\n\t\t\tif (typeof (this.initialized) !== 'undefined') {\r\n\t\t\t\tvar e = eventer.create('changed.fu.wizard');\r\n\t\t\t\tthis.$element.trigger(e, {\r\n\t\t\t\t\tstep: this.currentStep\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.initialized = true;\r\n\t\t},\r\n\r\n\t\tstepclicked: function (e) {\r\n\t\t\tvar li = $(e.currentTarget);\r\n\t\t\tvar index = this.$element.find('.steps li').index(li);\r\n\r\n\t\t\tif (index < this.currentStep && this.options.disablePreviousStep) {//enforce restrictions\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tvar evt = eventer.create('stepclicked.fu.wizard');\r\n\t\t\t\tthis.$element.trigger(evt, {\r\n\t\t\t\t\tstep: index + 1\r\n\t\t\t\t});\r\n\t\t\t\tif (evt.isDefaultPrevented()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.currentStep = (index + 1);\r\n\t\t\t\tthis.setState();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsyncSteps: function () {\r\n\t\t\tvar i = 1;\r\n\t\t\tvar $steps = this.$element.find('.steps');\r\n\t\t\tvar $stepContent = this.$element.find('.step-content');\r\n\r\n\t\t\t$steps.children().each(function () {\r\n\t\t\t\tvar item = $(this);\r\n\t\t\t\tvar badge = item.find('.badge');\r\n\t\t\t\tvar step = item.attr('data-step');\r\n\r\n\t\t\t\tif (!isNaN(parseInt(badge.html(), 10))) {\r\n\t\t\t\t\tbadge.html(i);\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.attr('data-step', i);\r\n\t\t\t\t$stepContent.find('.step-pane[data-step=\"' + step + '\"]:last').attr('data-step', i);\r\n\t\t\t\ti++;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tprevious: function () {\r\n\t\t\tif (this.options.disablePreviousStep || this.currentStep === 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar e = eventer.create('actionclicked.fu.wizard');\r\n\t\t\tthis.$element.trigger(e, {\r\n\t\t\t\tstep: this.currentStep,\r\n\t\t\t\tdirection: 'previous'\r\n\t\t\t});\r\n\t\t\tif (e.isDefaultPrevented()) {\r\n\t\t\t\treturn;\r\n\t\t\t}// don't increment ...what? Why?\r\n\r\n\t\t\tthis.currentStep -= 1;\r\n\t\t\tthis.setState();\r\n\r\n\t\t\t// only set focus if focus is still on the $nextBtn (avoid stomping on a focus set programmatically in actionclicked callback)\r\n\t\t\tif (this.$prevBtn.is(':focus')) {\r\n\t\t\t\tvar firstFormField = this.$element.find('.active').find('input, select, textarea')[0];\r\n\r\n\t\t\t\tif (typeof firstFormField !== 'undefined') {\r\n\t\t\t\t\t// allow user to start typing immediately instead of having to click on the form field.\r\n\t\t\t\t\t$(firstFormField).focus();\r\n\t\t\t\t} else if (this.$element.find('.active input:first').length === 0 && this.$prevBtn.is(':disabled')) {\r\n\t\t\t\t\t//only set focus on a button as the last resort if no form fields exist and the just clicked button is now disabled\r\n\t\t\t\t\tthis.$nextBtn.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnext: function () {\r\n\t\t\tvar e = eventer.create('actionclicked.fu.wizard');\r\n\t\t\tthis.$element.trigger(e, {\r\n\t\t\t\tstep: this.currentStep,\r\n\t\t\t\tdirection: 'next'\r\n\t\t\t});\r\n\t\t\tif (e.isDefaultPrevented()) {\r\n\t\t\t\treturn;\r\n\t\t\t}// respect preventDefault in case dev has attached validation to step and wants to stop propagation based on it.\r\n\r\n\t\t\tif (this.currentStep < this.numSteps) {\r\n\t\t\t\tthis.currentStep += 1;\r\n\t\t\t\tthis.setState();\r\n\t\t\t} else {//is last step\r\n\t\t\t\tthis.$element.trigger('finished.fu.wizard');\r\n\t\t\t}\r\n\r\n\t\t\t// only set focus if focus is still on the $nextBtn (avoid stomping on a focus set programmatically in actionclicked callback)\r\n\t\t\tif (this.$nextBtn.is(':focus')) {\r\n\t\t\t\tvar firstFormField = this.$element.find('.active').find('input, select, textarea')[0];\r\n\r\n\t\t\t\tif (typeof firstFormField !== 'undefined') {\r\n\t\t\t\t\t// allow user to start typing immediately instead of having to click on the form field.\r\n\t\t\t\t\t$(firstFormField).focus();\r\n\t\t\t\t} else if (this.$element.find('.active input:first').length === 0 && this.$nextBtn.is(':disabled')) {\r\n\t\t\t\t\t//only set focus on a button as the last resort if no form fields exist and the just clicked button is now disabled\r\n\t\t\t\t\tthis.$prevBtn.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselectedItem: function (selectedItem) {\r\n\t\t\tvar retVal, step;\r\n\r\n\t\t\tif (selectedItem) {\r\n\t\t\t\tstep = selectedItem.step || -1;\r\n\t\t\t\t//allow selection of step by data-name\r\n\t\t\t\tstep = Number(this.$element.find('.steps li[data-name=\"' + step + '\"]').first().attr('data-step')) || Number(step);\r\n\r\n\t\t\t\tif (1 <= step && step <= this.numSteps) {\r\n\t\t\t\t\tthis.currentStep = step;\r\n\t\t\t\t\tthis.setState();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstep = this.$element.find('.steps li.active:first').attr('data-step');\r\n\t\t\t\t\tif (!isNaN(step)) {\r\n\t\t\t\t\t\tthis.currentStep = parseInt(step, 10);\r\n\t\t\t\t\t\tthis.setState();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tretVal = this;\r\n\t\t\t} else {\r\n\t\t\t\tretVal = {\r\n\t\t\t\t\tstep: this.currentStep\r\n\t\t\t\t};\r\n\t\t\t\tif (this.$element.find('.steps li.active:first[data-name]').length) {\r\n\t\t\t\t\tretVal.stepname = this.$element.find('.steps li.active:first').attr('data-name');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn retVal;\r\n\t\t}\r\n\r\n\t});\r\n\r\n   plugins.register(Wizard);\r\n\r\n\treturn panels.Wizard = Wizard;\r\n\r\n});\r\n\ndefine('skylark-domx-panels/main',[\r\n    \"./panels\",\r\n    \"./Accordion\",\r\n    \"./Pagination\",\r\n    \"./Panel\",\r\n    \"./TabStrip\",\r\n    \"./Toolbar\",\r\n    \"./Wizard\"\r\n], function(panels) {\r\n    return panels;\r\n});\ndefine('skylark-domx-panels', ['skylark-domx-panels/main'], function (main) { return main; });\n\n"]}