{"version":3,"sources":["skylark-domx-plugins-panels.js"],"names":["define","skylark","langx","browser","eventer","noder","geom","$","panels","CONST","BACKSPACE_KEYCODE","COMMA_KEYCODE","DELETE_KEYCODE","DOWN_ARROW_KEYCODE","ENTER_KEYCODE","TAB_KEYCODE","UP_ARROW_KEYCODE","isKey","keyCode","e","isBackspaceKey","isDeleteKey","isTabKey","isUpArrow","isDownArrow","ENCODED_REGEX","mixin","cleanInput","questionableMarkup","test","html","text","isShiftHeld","shiftKey","attach","plugins","Panel","Plugin","inherit","klassName","pluginName","options","resizable","minWidth","minHeight","border","classes","all","top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","_construct","elm","this","overrided","_velm","elmx","_resizable","Resizable","handle","directions","constraints","started","isResizing","moving","stopped","register","Collapse","Collapsible","toggler","selector","body","prototype","call","_expanded","$toggle","find","$body","on","toggle","expand","emit","plugin","show","collapse","Collapsable","hide","full","unfull","toogleFull","close","Accordion","panel","template","forEach","panelEl","Pane","group","push","_panels","get","addPanel","remove","expandAll","collapseAll","active","Movable","floatings","Floating","selectors","headerPane","contentPane","footerPane","titlebar","buttons","fullscreen","maximize","minimize","fixedContent","initMaximized","movable","dragHandle","dragCancel","$pane","_elm","isOpened","isMaximized","_movable","starting","elemCancel","target","closest","length","$close","$maximize","$minimize","$fullscreen","off","_keydown","trigger","idx","indexOf","splice","focus","$W","window","$D","document","removeClass","initModalLeft","width","modalWidth","scrollLeft","initModalTop","height","modalHeight","scrollTop","css","modalData","offset","addClass","resized","keyboard","which","charCode","ctrlKey","metaKey","altKey","i","Pagination","tagName","firstNavi","prevNavi","nextNavi","lastNavi","numericNavi","numericTxt","totalPages","maxButtonsVisible","currentPage","state","Number","$first","$prev","$last","$next","$numeric","self","checkCanAction","$elm","is","click","ret","numeric","pageNo","parseInt","_currentPage","_totalPages","_refresh","updates","totalPageNoBtns","Math","min","begin","end","count","size","visibles","filter","$btn","eq","changePageNoBtns","changeLabeldBtns","v","undefined","Dropdown","TabButton","TabStrip","header","tab","content","tabpane","droptabs","dropdown","dropdownMenu","dropdownTabs","dropdownCaret","visibleTabs","auto","pullDropdownRight","$header","$tabs","$content","$tabpanes","each","tabEl","arrange","dropdownTabsSelector","visibleTabsSelector","$container","dropdownLabel","clone","$dropdownTabs","$visibleTabs","tempElem","hiddenElementWidth","availableSpace","outerWidth","visibleTabsWidth","index","x","reverse","hasClass","prependTo","first","appendTo","detach","insertAfter","add","Toolbar","toolbarFloat","toolbarHidden","toolbarFloatOffset","separator","toolbarHeight","_this","opts","wrapper","list","editor","editable","util","reflow","os","mobile","position","outerHeight","placeholderEl","addToolItem","itemWidget","addSeparator","Wizard","disablePreviousStep","selectedItem","step","$element","attr","currentStep","numSteps","$prevBtn","$nextBtn","kids","children","nextText","trim","append","steps","console","warn","proxy","previous","next","stepclicked","destroy","outerHTML","addSteps","l","$startPane","$startStep","$step","items","slice","arguments","$steps","$stepContent","Array","label","badge","pane","before","syncSteps","setState","removeSteps","howMany","$start","action","prev","item","canMovePrev","isFirstStep","isLastStep","last","lastText","prevSelector","$prevSteps","currentSelector","$currentStep","totalWidth","containerWidth","newMargin","create","initialized","li","currentTarget","evt","isDefaultPrevented","isNaN","direction","firstFormField","retVal","stepname","main"],"mappings":";;;;;;;g4BAAAA,EAAA,sCACA,wBACA,sBACA,uBACA,uBACA,qBACA,oBACA,sBACA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,KAEAC,GACAC,kBAAA,EACAC,cAAA,IACAC,eAAA,GACAC,mBAAA,GACAC,cAAA,GACAC,YAAA,EACAC,iBAAA,IAKAC,EAAA,SAAAC,GACA,OAAA,SAAAC,GACA,OAAAA,EAAAD,UAAAA,IAIAE,EAAAH,EAAAR,EAAAC,mBACAW,EAAAJ,EAAAR,EAAAG,gBACAU,EAAAL,EAAAR,EAAAM,aACAQ,EAAAN,EAAAR,EAAAO,kBACAQ,EAAAP,EAAAR,EAAAI,oBAEAY,EAAA,WAyBA,OAXAvB,EAAAwB,MAAAlB,GACAC,MAAAA,EACAkB,WAZA,SAAAC,GAEA,KAAAH,EAAAI,KAAAD,IACAA,EAAArB,EAAA,OAAAuB,KAAAF,GAAAG,OAIA,OAAAxB,EAAA,OAAAwB,KAAAH,GAAAE,QAMAV,eAAAA,EACAC,YAAAA,EACAW,YAjCA,SAAAb,GAAA,OAAA,IAAAA,EAAAc,UAkCAX,SAAAA,EACAC,UAAAA,EACAC,YAAAA,IAGAvB,EAAAiC,OAAA,sBAAA1B,KAIAR,EAAA,qCACA,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,4BACA,YACA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4B,EAAA3B,GAEA,IAAA4B,EAAAD,EAAAE,OAAAC,SACAC,UAAA,QAEAC,WAAA,oBAEAC,SAhFAC,WACAC,SAAA,IACAC,UAAA,IACAC,QACAC,SACAC,IAAA,mBACAC,IAAA,qBACAC,KAAA,qBACAC,MAAA,qBACAC,OAAA,qBACAC,QAAA,sBACAC,SAAA,sBACAC,WAAA,sBACAC,YAAA,0BAMAC,WAAA,SAAAC,EAAAhB,GACAiB,KAAAC,UAAAF,EAAAhB,GACAiB,KAAAE,MAAAF,KAAAG,OAEAH,KAAAjB,QAAAC,YAEAgB,KAAAI,WAAA,IAAAC,UAAAN,GACAO,QACAnB,QACAoB,YACAjB,KAAA,EACAC,MAAA,EACAC,OAAA,EACAC,QAAA,EACAC,SAAA,EACAC,UAAA,EACAC,YAAA,EACAC,aAAA,GAEAT,SACAC,IAAAW,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAC,IACAC,IAAAU,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAE,IACAC,KAAAS,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAG,KACAC,MAAAQ,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAI,MACAC,OAAAO,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAK,OACAC,QAAAM,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAM,QACAC,SAAAK,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAO,SACAC,WAAAI,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAQ,WACAC,YAAAG,KAAAjB,QAAAC,UAAAG,OAAAC,QAAAS,eAIAW,aACAvB,SAAAe,KAAAjB,QAAAC,UAAAC,SACAC,UAAAc,KAAAjB,QAAAC,UAAAE,WAEAuB,QAAA,WACAT,KAAAU,YAAA,GAEAC,OAAA,SAAAlD,KAcAmD,QAAA,WACAZ,KAAAU,YAAA,SAYA,OAFAjC,EAAAoC,SAAAnC,GAEAA,IAGApC,EAAA,2CACA,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,4BACA,wCACA,WACA,WACA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4B,EAAAqC,EAAAhE,EAAA4B,GAEA,IAAAqC,EAAAtC,EAAAE,OAAAC,SACAC,UAAA,cAEAC,WAAA,0BAEAC,SACAiC,SACAC,SAAA,2CAGAC,MACAD,SAAA,oBAIAnB,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GAEAiB,KAAAqB,WAAA,EACArB,KAAAsB,QAAAtB,KAAAE,MAAAqB,KAAAvB,KAAAjB,QAAAiC,QAAAC,UACAjB,KAAAwB,MAAAxB,KAAAE,MAAAqB,KAAAvB,KAAAjB,QAAAmC,KAAAD,UACAjB,KAAAsB,QAAAG,GAAA,cAAAhE,IACAuC,KAAA0B,YAKAC,OAAA,WAEA3B,KAAA4B,KAAA,aACA5B,KAAAwB,MAAAK,OAAAf,EAAAK,UAAArC,YAAAgD,OACA9B,KAAAqB,WAAA,EACArB,KAAA4B,KAAA,aAGAG,SAAA,WAEA/B,KAAA4B,KAAA,cACA5B,KAAAwB,MAAAK,OAAAG,YAAAb,UAAArC,YAAAmD,OACAjC,KAAAqB,WAAA,EACArB,KAAA4B,KAAA,cAGAF,OAAA,WAEA1B,KAAAqB,UACArB,KAAA+B,WAEA/B,KAAA2B,UAIAO,KAAA,aAIAC,OAAA,aAIAC,WAAA,aAIAC,MAAA,eAQA,OAFA5D,EAAAoC,SAAAE,GAEAjE,EAAAiE,YAAAA,IAGAzE,EAAA,yCACA,sBACA,qBACA,oBACA,4BACA,WACA,UACA,iBACA,SAAAE,EAAAK,EAAAsD,EAAA1B,EAAA3B,EAAA4B,EAAAqC,GAEA,IAAAuB,EAAA5D,EAAAE,SACAC,UAAA,YAEAC,WAAA,wBAEAC,SACAwD,OACAtB,SAAA,WACAuB,SAAA,OAIA1C,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GACA,IAAAjC,KACAkD,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAwD,MAAAtB,UAAAwB,QAAAC,IACA,IAAAH,EAAA,IAAAD,EAAAK,KAAAD,GACAE,MAAA5C,OAEAlD,EAAA+F,KAAAN,KAEAvC,KAAA8C,QAAAhG,GAGAA,QACAiG,IAAA,cAMAC,SAAA,aAUAC,OAAA,aAUAtB,OAAA,aAWAuB,UAAA,aAWAnB,SAAA,aAUAoB,YAAA,eAiCA,OA5BAb,EAAAK,KAAA5B,EAAAnC,SACAC,UAAA,gBAEA8C,OAAA,WACA3B,KAAAjB,QAAA6D,MAAAQ,QACApD,KAAAjB,QAAA6D,MAAAQ,OAAArB,WAEA/B,KAAAC,YACAD,KAAAjB,QAAA6D,MAAAQ,OAAApD,MAGA+B,SAAA,WACA/B,KAAAC,YACAD,KAAAjB,QAAA6D,MAAAQ,OAAA,MAGA1B,OAAA,WACA1B,KAAAC,aAGAgD,OAAA,WACAjD,KAAAC,eAKAxB,EAAAoC,SAAAyB,GAEAxF,EAAAwF,UAAAA,IAGAhG,EAAA,wCACA,qBACA,uBACA,qBACA,4BACA,wCACA,WACA,WACA,SAAAK,EAAAD,EAAAG,EAAA4B,EAAA4E,EAAAvG,EAAA4B,GACA,aAEA,IAAA4E,KAEAC,EAAA7E,EAAAE,SACAC,UAAA,WAEAC,WAAA,uBAEAC,SACAyE,WACAC,WAAA,GACAC,YAAA,GACAC,WAAA,GACAC,SAAA,GACAC,SACAC,WAAA,qBACAC,SAAA,mBACAC,SAAA,mBACA3B,MAAA,kBAIAjD,SACA2E,SAAA,YAGAE,cAAA,EACAC,eAAA,EAEAC,SACAC,YAAA,EACAC,WAAA,OAIAvE,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GACAiB,KAAAsE,MAAAzH,EAAAmD,KAAAuE,MAEAvE,KAAAwE,UAAA,EACAxE,KAAAyE,aAAA,EAEAzE,KAAAjB,QAAAoF,UACAnE,KAAA0E,SAAA,IAAArB,EAAAtD,GACAO,OAAAN,KAAAjB,QAAAoF,QAAAC,WACAO,SAAAlH,IACA,MAAA4G,EAAArE,KAAAjB,QAAAoF,QAAAE,WACAO,EAAA/H,EAAAY,EAAAoH,QAAAC,QAAAT,GACA,OAAAO,EAAAG,UAGA/E,KAAAU,aAAAV,KAAAyE,iBAUAzE,KAAAgF,OAAAhF,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAK,QAAAxB,OACArC,KAAAiF,UAAAjF,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAK,QAAAE,UACA/D,KAAAkF,UAAAlF,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAK,QAAAG,UACAhE,KAAAmF,YAAAnF,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAK,QAAAC,YAGA9D,KAAAgF,OAAAI,IAAA,gBAAA3D,GAAA,eAAAhE,IACAuC,KAAAqC,UAEArC,KAAAmF,YAAAC,IAAA,gBAAA3D,GAAA,eAAA,KACAzB,KAAA8D,eAEA9D,KAAAiF,UAAAG,IAAA,gBAAA3D,GAAA,eAAA,KACAzB,KAAA+D,aAEA/D,KAAAsE,MAAAc,IAAA,kBAAA3D,GAAA,iBAAAhE,IACAuC,KAAAqF,SAAA5H,KAGA6F,EAAAT,KAAA7C,OAEAqC,MAAA,WACArC,KAAAsF,QAAA,UAAAtF,MACAA,KAAAsE,MAAArB,SACAjD,KAAAwE,UAAA,EACAxE,KAAAyE,aAAA,EAaA,IAAAc,EAAAjC,EAAAkC,QAAAxF,MACAuF,GAAA,GACAjC,EAAAmC,OAAAF,EAAA,GAEAvF,KAAAsF,QAAA,SAAAtF,OAGA+D,SAAA,WAEA,GADA/D,KAAAsE,MAAAvB,IAAA,GAAA2C,QACA1F,KAAAyE,YAeA,CACA,IAAAkB,EAAA9I,EAAA+I,QAAAC,EAAAhJ,EAAAiJ,UACA9F,KAAAsE,MAAAyB,YAAA/F,KAAAjB,QAAAK,QAAA2E,UACA,MAAAiC,GAAAL,EAAAM,QAAAjG,KAAAjB,QAAAmH,YAAA,EAAAL,EAAAM,aACAC,GAAAT,EAAAU,SAAArG,KAAAjB,QAAAuH,aAAA,EAAAT,EAAAU,YACAvG,KAAAsE,MAAAkC,KACAP,MAAAjG,KAAAyG,UAAAR,MAAAjG,KAAAyG,UAAAR,MAAAjG,KAAAjB,QAAAmH,WACAG,OAAArG,KAAAyG,UAAAJ,OAAArG,KAAAyG,UAAAJ,OAAArG,KAAAjB,QAAAuH,YACA/G,KAAAS,KAAAyG,UAAAlH,KAAAS,KAAAyG,UAAAlH,KAAAyG,EACA1G,IAAAU,KAAAyG,UAAAnH,IAAAU,KAAAyG,UAAAnH,IAAA8G,IAEApG,KAAAyE,aAAA,OAzBAzE,KAAAyG,WACAR,MAAAjG,KAAAsE,MAAA2B,QACAI,OAAArG,KAAAsE,MAAA+B,SACA9G,KAAAS,KAAAsE,MAAAoC,SAAAnH,KACAD,IAAAU,KAAAsE,MAAAoC,SAAApH,KAEAU,KAAAsE,MAAAqC,SAAA3G,KAAAjB,QAAAK,QAAA2E,UACA/D,KAAAsE,MAAAkC,KACAP,MAAA,OACAI,OAAA,OACA9G,KAAA,EACAD,IAAA,IAEAU,KAAAyE,aAAA,EAeA/H,EAAAkK,QAAA5G,KAAAuE,OAEAT,WAAA,WACA9D,KAAAsE,MAAAvB,IAAA,GAAA2C,QACA/I,EAAAmH,WAAA9D,KAAAsE,MAAA,KAEAe,SAAA,SAAA5H,GACA,IAAAuC,KAAAjB,QAAA8H,SACA,OAAA,EAEA,MAAArJ,EAAAC,EAAAD,SAAAC,EAAAqJ,OAAArJ,EAAAsJ,SACAtJ,EAAAuJ,SAAAvJ,EAAAwJ,QACAxJ,EAAAyJ,QAAAzJ,EAAAwJ,QACA,OAAAzJ,GAGA,KAAA,GACAwC,KAAAqC,YAcA,OANA3F,EAAA+E,GAAAmE,OAAA,gBAAA,KACA,IAAA,IAAAuB,EAAA,EAAAA,EAAA7D,EAAAyB,OAAAoC,IACAzK,EAAAkK,QAAAtD,EAAA6D,GAAA5C,QAIAzH,EAAAyG,SAAAA,IAEAjH,EAAA,0CACA,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,4BACA,WACA,WACA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4B,EAAA3B,EAAA4B,GAEA,aAEA,IAAA0I,EAAA1I,EAAAE,SACAC,UAAA,aAEAC,WAAA,yBAEAC,SACAsI,QAAA,KACAb,IAAA,GACAhD,WACA8D,UAAA,yBACAC,SAAA,wBACAC,SAAA,wBACAC,SAAA,wBACAC,YAAA,uBACAC,WAAA,KAEAC,WAAA,EACAC,kBAAA,EACAC,YAAA,GAGAC,OACAH,WAAAI,OACAF,YAAAE,QAGAlI,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GAEAiB,KAAAiI,OAAAjI,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAA8D,WACAtH,KAAAkI,MAAAlI,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAA+D,UACAvH,KAAAmI,MAAAnI,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAiE,UACAzH,KAAAoI,MAAApI,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAgE,UACAxH,KAAAqI,SAAArI,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAAkE,aAEA,IAAAY,EAAAtI,KAEA,SAAAuI,EAAAxI,GACA,IAAAyI,EAAA3L,EAAAkD,GACA,OAAAyI,EAAAC,GAAA,sBAGAD,EAIAxI,KAAAiI,OAAAS,MAAA,WACAH,EAAAvI,OAGAsI,EAAAR,YAAA,KAGA9H,KAAAkI,MAAAQ,MAAA,WACAH,EAAAvI,OAGAsI,EAAAR,YAAAQ,EAAAR,cAAA,KAGA9H,KAAAmI,MAAAO,MAAA,WACAH,EAAAvI,OAGAsI,EAAAR,YAAAQ,EAAAV,gBAGA5H,KAAAoI,MAAAM,MAAA,WACAH,EAAAvI,OAGAsI,EAAAR,YAAAQ,EAAAR,cAAA,KAGA9H,KAAAqI,SAAAK,MAAA,WACA,IAAAC,EAAAJ,EAAAvI,MACA,GAAA2I,EAAA,CAGA,IAAAC,EAAAD,EAAApH,KAAA+G,EAAAvJ,QAAAyE,UAAAmE,YAAAtJ,OACAwK,EAAAC,SAAAF,GACAN,EAAAR,YAAAe,MAIA7I,KAAA+I,aAAA/I,KAAAjB,QAAA+I,YACA9H,KAAAgJ,YAAAhJ,KAAAjB,QAAA6I,WAEA5H,KAAAiJ,UACAnB,aAAA,EACAF,YAAA,KAIAqB,SAAA,SAAAC,GACA,IAAAZ,EAAAtI,KA6GA,GAAAkJ,EAAApB,aAAAoB,EAAAtB,WAAA,CACA,IAAAE,EAAAQ,EAAAR,cACAF,EAAAU,EAAAV,cA7GA,SAAAE,EAAAF,GAIA,IAAAuB,EAAAC,KAAAC,IAAAzB,EAAAU,EAAAvJ,QAAA8I,mBACAyB,EAAA,EACAC,EAAAD,EAAAH,EAAA,EAOA,KAAArB,EAAAwB,GAAAxB,EAAAyB,GACAzB,EAAAyB,GACAD,GAAAH,GACAI,GAAAJ,GAEAvB,IACA0B,GAAAC,EAAA3B,EACA2B,EAAA3B,KAIA2B,GAAAJ,GADAG,GAAAH,GAGA,IACAI,GAAAD,EAAAH,EACAG,EAAA,IAQAxB,IAAAyB,GAAA,GAAA3B,IAEA2B,GADAD,EAAAxB,EAAA,GACAqB,EAAA,IAEAvB,IACA0B,GAAAC,EAAA,EACAA,EAAA3B,GAQA0B,IAAAxB,GAAA,GAAAF,GACA,GAAAE,IAEAwB,GADAC,EAAAzB,EAAA,IACAqB,EAAA,IAIA,IAAAK,EAAAlB,EAAAD,SAAAoB,OACAC,EAAAH,EAAAD,EAAA,EACAnC,EAAA,EAEAmB,EAAAD,SAAAsB,OAAA,WAAA5D,YAAA,UACA,KAAAoB,EAAAuC,GAAA,CACA,IAAAb,EAAA1B,EAAAmC,EACAM,EAAAtB,EAAAD,SAAAwB,GAAA1C,GACAyC,EAAArI,KAAA+G,EAAAvJ,QAAAyE,UAAAmE,YAAAtJ,KAAA8I,EAAAmC,GAAAxH,OACA+G,GAAAf,GACA8B,EAAAjD,SAAA,UAEAQ,IAEA,KAAAA,EAAAqC,GACAlB,EAAAD,SAAAwB,GAAA1C,GAAA5F,KAAA+G,EAAAvJ,QAAAyE,UAAAmE,YAAAtJ,KAAA8I,EAAAmC,GAAArH,OACAkF,IAsCA2C,CAAAhC,EAAAF,GAhCA,SAAAE,EAAAF,GACA,GAAAE,EAAA,EACA,KAAA,4BACA,GAAAA,EAAAF,EACA,KAAA,kCAGA,GAAAA,EAAA,EACA,KAAA,mCAGA,GAAAE,GACAQ,EAAAL,OAAAtB,SAAA,YACA2B,EAAAJ,MAAAvB,SAAA,cAEA2B,EAAAL,OAAAlC,YAAA,YACAuC,EAAAJ,MAAAnC,YAAA,aAGA+B,GAAAF,GACAU,EAAAH,MAAAxB,SAAA,YACA2B,EAAAF,MAAAzB,SAAA,cAEA2B,EAAAH,MAAApC,YAAA,YACAuC,EAAAF,MAAArC,YAAA,aASAgE,CAAAjC,EAAAF,KAKAE,YAAA,SAAAkC,GACA,YAAAC,IAAAD,GACAhK,KAAA+I,aAAAiB,EACAhK,KAAAiJ,UACAnB,aAAA,IAEA9H,MAEAA,KAAA+I,cAIAnB,WAAA,SAAAoC,GACA,YAAAC,IAAAD,GACAhK,KAAAgJ,YAAAgB,EACAhK,KAAAiJ,UACArB,YAAA,IAEA5H,MAEAA,KAAAgJ,eAQA,OAHAvK,EAAAoC,SAAAuG,GAGAtK,EAAAsK,WAAAA,IAEA9K,EAAA,wCACA,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,4BACA,uCACA,mCACA,WACA,WACA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4B,EAAAyL,EAAAC,EAAArN,EAAA4B,GAEA,IAAA0L,EAAA1L,EAAAE,SACAC,UAAA,WACAC,WAAA,uBAEAC,SACAyE,WACA6G,OAAA,YACAC,IAAA,sBACAC,QAAA,eACAC,QAAA,aAGAC,UACAjH,WACAkH,SAAA,cACAC,aAAA,mBACAC,aAAA,KACAC,cAAA,UACAC,YAAA,sBAEAC,MAAA,EACAC,mBAAA,IAMAlL,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GAEAiB,KAAAiL,QAAAjL,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAA6G,QACArK,KAAAkL,MAAAlL,KAAAiL,QAAA1J,KAAAvB,KAAAjB,QAAAyE,UAAA8G,KACAtK,KAAAmL,SAAAnL,KAAAE,MAAArD,EAAAmD,KAAAjB,QAAAyE,UAAA+G,SACAvK,KAAAoL,UAAApL,KAAAmL,SAAA5J,KAAAvB,KAAAjB,QAAAyE,UAAAgH,SAEAxK,KAAAiL,QAAA1J,KAAA,4BAAAM,OAAAqI,EAAA/I,UAAArC,YAEA,IAAAwJ,EAAAtI,KACAA,KAAAkL,MAAAG,KAAA,SAAA9F,EAAA+F,GACAzO,EAAAyO,GAAAzJ,OAAAsI,EAAAhJ,UAAArC,YACA+F,OAAAyD,EAAA8C,UAAA7F,QAMAgG,QAAA,WAEA,IAAAC,EAAAxL,KAAAjB,QAAA0L,SAAAjH,UAAAoH,aACAa,EAAAzL,KAAAjB,QAAA0L,SAAAjH,UAAAsH,YAEAY,WAAA1L,KAAAiL,QACA,IAAAP,EAAAgB,WAAAnK,KAAAvB,KAAAjB,QAAA0L,SAAAjH,UAAAkH,UACAC,EAAAD,EAAAnJ,KAAAvB,KAAAjB,QAAA0L,SAAAjH,UAAAmH,cACAgB,EAAA9O,EAAA,KAAA6N,GAAAkB,QACA/O,EAAAmD,KAAAjB,QAAA0L,SAAAjH,UAAAqH,cAAAH,GAGA7N,EAAAmD,KAAAjB,QAAA0L,SAAAjH,UAAAqH,cAAAc,GAAA1I,SAEAjD,KAAAjB,QAAA0L,SAAAO,mBACAnO,EAAA6N,GAAA/D,SAAA,cAGA,IAAAkF,EAAA,WACA,OAAAhP,EAAA2O,EAAAb,IAGAmB,EAAA,WACA,OAAAjP,EAAA4O,EAAAC,aA4DA,IAxDAK,EACAC,EAgEAC,EAAA,WACA,OAAAP,WAAAQ,aAVA,WACA,IAAAC,EAAA,EAKA,OAJAtP,EAAAiP,KAAAT,KAAA,SAAAe,GACAD,GAAArD,SAAAjM,EAAAmD,MAAAkM,aAAA,MAEAC,GAAArD,SAAAjM,EAAA6N,GAAAwB,aAAA,IAKAC,IAGA,GAAAF,IAAA,EAAA,CACA,IAAAI,EAAAJ,IACApP,EAAAiP,IAAA/I,MAAAuJ,WAAAjB,KAAA,SAAAe,GAKA,GAJAvP,EAAAmD,MAAAuM,SAAA,oBACA1P,EAAAmD,MAAAwM,UAAA7B,GACA0B,GAAAxP,EAAAmD,MAAAkM,cAEAG,GAAA,EAAA,OAAA,IAIA,GAAAJ,KAhFAF,EAAAF,IAAAY,QAAAb,QAAAc,SAAAhB,YAAAlF,IAAA,WAAA,SACAwF,EAAAnP,EAAAkP,GAAAG,aACArP,EAAAkP,GAAA9I,SACA+I,GA6EA,CACA,IAAAK,EAAAJ,IACApP,EAAAgP,KAAAR,KAAA,SAAAe,GACA,GA5EAL,EAAAlP,EA4EAmD,MA5EA4L,QAAAc,SAAAhB,YAAAlF,IAAA,WAAA,SACAwF,EAAAnP,EAAAkP,GAAAG,aACArP,EAAAkP,GAAA9I,WACA+I,EAyEAK,IAAAxP,EAAAmD,MAAAuM,SAAA,mBAGA,OAAA,EAhFA,IACAR,EACAC,EA4EAnP,EAAAmD,MAAA0M,SAAAhB,YACAW,GAAAxP,EAAAmD,MAAAkM,eAIAlM,KAAAjB,QAAA0L,SAAAO,mBAAAnO,EAAA6N,GAAAjC,GAAA,gBAEA5L,EAAA6N,GAAAiC,SAAAC,YAAAlB,WAAAnK,KAAA,kBAIAsK,IAAA9G,QAAA,EACA2F,EAAAzI,OAEAyI,EAAA5I,QAIA+K,IAAA,aAIA5J,OAAA,eAQA,OAHAxE,EAAAoC,SAAAuJ,GAGAtN,EAAAsN,SAAAA,IAGA9N,EAAA,uCACA,sBACA,qBACA,4BACA,WACA,WACA,SAAAE,EAAAK,EAAA4B,EAAA3B,EAAA4B,GAGA,IAAAoO,EAAApO,EAAAE,SACAC,UAAA,UAEAC,WAAA,sBAEAC,SACAgO,cAAA,EACAC,eAAA,EACAC,mBAAA,EACAzK,SAAA,4CACA0K,WACA1K,SAAA,6CAIA1C,WAAA,SAAAC,EAAAhB,GAGA,IAAAoO,EAgBAC,EAlBA1O,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GAMAiB,KAAAqN,KAAArN,KAAAjB,QAOAiB,KAAAsN,QAAAzQ,EAAAmD,KAAAuE,MACAvE,KAAAuN,KAAAvN,KAAAsN,QAAA/L,KAAA,MACAvB,KAAAuN,KAAA9L,GAAA,QAAA,SAAAhE,GACA,OAAA,IAEAuC,KAAAsN,QAAA7L,GAAA,aAAA2L,EAIApN,KAHA,SAAAvC,GACA,OAAA2P,EAAAG,KAAAhM,KAAA,YAAAwE,YAAA,eAGAlJ,EAAAiJ,UAAArE,GAAA,oBAAA,SAAA2L,GACA,OAAA,SAAA3P,GACA,OAAA2P,EAAAG,KAAAhM,KAAA,YAAAwE,YAAA,YAFA,CAIA/F,QACAA,KAAAqN,KAAAL,eAAAhN,KAAAqN,KAAAN,eACA/M,KAAAsN,QAAA9G,IAAA,MAAAxG,KAAAqN,KAAAJ,oBACAE,EAAA,EACA,SAAAC,GACA,OAAA,WASA,OARAA,EAAAE,QAAA9G,IAAA,WAAA,UACA4G,EAAAE,QAAArH,MAAA,QACAmH,EAAAI,OAAAC,SAAAC,KAAAC,OAAAP,EAAAE,SACAF,EAAAE,QAAArH,MAAAmH,EAAAE,QAAApB,cACAkB,EAAAE,QAAA9G,IAAA,OAAA4G,EAAAI,OAAAC,SAAAC,KAAAE,GAAAC,OAAAT,EAAAE,QAAAQ,WAAAvO,KAAA6N,EAAAE,QAAA5G,SAAAnH,MACA6N,EAAAE,QAAA9G,IAAA,WAAA,IACA2G,EAAAC,EAAAE,QAAAS,cACAX,EAAAI,OAAAQ,cAAAxH,IAAA,MAAA2G,IACA,GAVA,CAYAnN,QA4CAiO,YAAA,SAAAC,GAEA,OADArR,EAAAqR,EAAA3J,MAAAmI,SAAA1M,KAAAuN,MACAvN,MAGAmO,aAAA,WAEA,OADAtR,EAAAmD,KAAAjB,QAAAmO,UAAA1K,UAAAkK,SAAA1M,KAAAuN,MACAvN,QAOA,OAFAvB,EAAAoC,SAAAiM,GAEAhQ,EAAAgQ,QAAAA,IAGAxQ,EAAA,sCACA,sBACA,uBACA,uBACA,qBACA,oBACA,qBACA,4BACA,WACA,WACA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4B,EAAA3B,EAAA4B,GAGA,IAAA0P,EAAA1P,EAAAE,SACAC,UAAA,SAEAC,WAAA,qBAEAC,SACAsP,qBAAA,EACAC,cACAC,MAAA,IAIAzO,WAAA,SAAAC,EAAAhB,GACAL,EAAAyC,UAAArB,WAAAsB,KAAApB,KAAAD,EAAAhB,GAEAiB,KAAAwO,SAAAxO,KAAAnD,IACAmD,KAAAjB,QAAAsP,oBAAA,aAAArO,KAAAwO,SAAAC,KAAA,kBAAAzO,KAAAjB,QAAAsP,oBACArO,KAAA0O,YAAA1O,KAAAjB,QAAAuP,aAAAC,KACAvO,KAAA2O,SAAA3O,KAAAwO,SAAAjN,KAAA,aAAAwD,OACA/E,KAAA4O,SAAA5O,KAAAwO,SAAAjN,KAAA,mBACAvB,KAAA6O,SAAA7O,KAAAwO,SAAAjN,KAAA,mBAEA,IAAAuN,EAAA9O,KAAA6O,SAAAE,WAAApC,SACA3M,KAAAgP,SAAAxS,EAAAyS,KAAAjP,KAAA6O,SAAAxQ,QACA2B,KAAA6O,SAAAK,OAAAJ,GAEA,IAAAK,EAAAnP,KAAAwO,SAAAO,SAAA,oBAEA,IAAAI,EAAApK,SACAoK,EAAAnP,KAAAwO,SACAxO,KAAAwO,SAAA7H,SAAA,sBACAf,QAAAA,OAAAwJ,SAAAxJ,OAAAwJ,QAAAC,MACAzJ,OAAAwJ,QAAAC,KAAA,uIAGAF,EAAAA,EAAA5N,KAAA,UAGAvB,KAAA4O,SAAAnN,GAAA,kBAAAjF,EAAA8S,MAAAtP,KAAAuP,SAAAvP,OACAA,KAAA6O,SAAApN,GAAA,kBAAAjF,EAAA8S,MAAAtP,KAAAwP,KAAAxP,OACAmP,EAAA1N,GAAA,kBAAA,cAAAjF,EAAA8S,MAAAtP,KAAAyP,YAAAzP,OAEAA,KAAAsO,aAAAtO,KAAAjB,QAAAuP,cAEAtO,KAAAjB,QAAAsP,sBACArO,KAAA4O,SAAAH,KAAA,YAAA,GACAzO,KAAAwO,SAAAjN,KAAA,UAAAoF,SAAA,uBAIA+I,QAAA,WAKA,OAJA1P,KAAAwO,SAAAvL,SAIAjD,KAAAwO,SAAA,GAAAmB,WAMAC,SAAA,SAAAxD,GACA,IAGAjF,EAAA0I,EAAAvL,EAAAwL,EAAAC,EAAAC,EAHAC,KAAAC,MAAA9O,KAAA+O,WAAAD,MAAA,GACAE,EAAApQ,KAAAwO,SAAAjN,KAAA,UACA8O,EAAArQ,KAAAwO,SAAAjN,KAAA,iBAcA,IAXA6K,GAAA,IAAAA,GAAAA,EAAApM,KAAA2O,SAAA,EAAA3O,KAAA2O,SAAA,EAAAvC,EACA6D,EAAA,aAAAK,QACAL,EAAAA,EAAA,IAGAF,EAAAK,EAAA7O,KAAA,gBAAA6K,EAAA,KACA0D,EAAAO,EAAA9O,KAAA,wBAAA6K,EAAA,KACA2D,EAAAhL,OAAA,IACAgL,EAAA,MAGA5I,EAAA,EAAA0I,EAAAI,EAAAlL,OAAAoC,EAAA0I,EAAA1I,KACA6I,EAAAnT,EAAA,kBAAAuP,EAAA,kDACA8C,OAAAe,EAAA9I,GAAAoJ,OAAA,IAAArB,OAAA,iCACAc,EAAAzO,KAAA,UAAA2N,OAAAe,EAAA9I,GAAAqJ,OAAApE,IAEA9H,EAAAzH,EAAA,qCAAAuP,EAAA,aACA8C,OAAAe,EAAA9I,GAAAsJ,MAAA,IAEAV,GAIAA,EAAAW,OAAAV,GACAF,EAAAY,OAAApM,KAJA8L,EAAAlB,OAAAc,GACAK,EAAAnB,OAAA5K,IAMA8H,IAGApM,KAAA2Q,YACA3Q,KAAA2O,SAAAyB,EAAA7O,KAAA,MAAAwD,OACA/E,KAAA4Q,YAIAC,YAAA,SAAAzE,EAAA0E,GACA,IAIAC,EAJAC,EAAA,UACA7J,EAAA,EACAiJ,EAAApQ,KAAAwO,SAAAjN,KAAA,UACA8O,EAAArQ,KAAAwO,SAAAjN,KAAA,iBAGAuP,OAAA7G,IAAA6G,EAAAA,EAAA,EAEA1E,EAAAgE,EAAA7O,KAAA,MAAAwD,OACAgM,EAAAX,EAAA7O,KAAA,YAEAwP,EAAAX,EAAA7O,KAAA,gBAAA6K,EAAA,KAAA6E,QACAlM,OAAA,IACAiM,EAAA,WACAD,EAAAX,GAKAW,EAAAC,KAAA3F,KAAA,WACA,IAAA6F,EAAArU,EAAAmD,MACAuO,EAAA2C,EAAAzC,KAAA,aACA,KAAAtH,EAAA2J,GAIA,OAAA,EAHAI,EAAAjO,SACAoN,EAAA9O,KAAA,yBAAAgN,EAAA,YAAAtL,SAKAkE,MAGAnH,KAAA2Q,YACA3Q,KAAA2O,SAAAyB,EAAA7O,KAAA,MAAAwD,OACA/E,KAAA4Q,YAGAA,SAAA,WACA,IAAAO,EAAAnR,KAAA0O,YAAA,EACA0C,EAAA,IAAApR,KAAA0O,YACA2C,EAAArR,KAAA0O,cAAA1O,KAAA2O,SAGA3O,KAAAjB,QAAAsP,qBACArO,KAAA4O,SAAAH,KAAA,YAAA,IAAA2C,IAAA,IAAAD,GAIA,IAAAG,EAAAtR,KAAA6O,SAAAJ,KAAA,aACA,GAAA6C,EAAA,CACAtR,KAAAuR,SAAAD,EAEA,IAAAjT,EAAA2B,KAAAgP,UACA,IAAAqC,GACAhT,EAAA2B,KAAAuR,SAEAvR,KAAAwO,SAAA7H,SAAA,aAEA3G,KAAAwO,SAAAzI,YAAA,YAGA,IAAA+I,EAAA9O,KAAA6O,SAAAE,WAAApC,SACA3M,KAAA6O,SAAAxQ,KAAAA,GAAA6Q,OAAAJ,GAIA,IAAAsB,EAAApQ,KAAAwO,SAAAjN,KAAA,aACA6O,EAAArK,YAAA,UAAAA,YAAA,YACAqK,EAAA7O,KAAA,cAAAwE,YAAA,cAAAA,YAAA,iBAGA,IAAAyL,EAAA,iBAAAxR,KAAA0O,YAAA,GAAA,IACA+C,EAAAzR,KAAAwO,SAAAjN,KAAAiQ,GACAC,EAAA9K,SAAA,YACA8K,EAAAlQ,KAAA,cAAAoF,SAAA,iBAGA,IAAA+K,EAAA,iBAAA1R,KAAA0O,YAAA,GAAA,IACAiD,EAAA3R,KAAAwO,SAAAjN,KAAAmQ,GACAC,EAAAhL,SAAA,UACAgL,EAAApQ,KAAA,cAAAoF,SAAA,cAGA,IAAA0J,EAAArQ,KAAAwO,SAAAjN,KAAA,iBACAsD,EAAA8M,EAAAlD,KAAA,aACA4B,EAAA9O,KAAA,cAAAwE,YAAA,UACAsK,EAAA9O,KAAA,yBAAAsD,EAAA,YAAA8B,SAAA,UAGA3G,KAAAwO,SAAAjN,KAAA,UAAAkL,QAAAgC,KAAA,QAAA,kBAGA,IAAAmD,EAAA,EACA5R,KAAAwO,SAAAjN,KAAA,eAAA8J,KAAA,WACAuG,GAAA/U,EAAAmD,MAAAkM,eAEA,IAAA2F,EAAA,EAOA,GALAA,EADA7R,KAAAwO,SAAAjN,KAAA,YAAAwD,OACA/E,KAAAwO,SAAAvI,QAAAjG,KAAAwO,SAAAjN,KAAA,YAAAkL,QAAAP,aAEAlM,KAAAwO,SAAAvI,QAGA2L,EAAAC,EAAA,CAEA,IAAAC,EAAAF,EAAAC,EACA7R,KAAAwO,SAAAjN,KAAA,UAAAkL,QAAAgC,KAAA,QAAA,iBAAAqD,EAAA,MAIA9R,KAAAwO,SAAAjN,KAAA,aAAAkL,QAAAqB,WAAAvO,KAAA,OACAuS,GAAA9R,KAAAwO,SAAAjN,KAAA,aAAAkL,QAAAqB,WAAAvO,KAAA,KACA,EACAS,KAAAwO,SAAAjN,KAAA,UAAAkL,QAAAgC,KAAA,QAAA,kBAEAzO,KAAAwO,SAAAjN,KAAA,UAAAkL,QAAAgC,KAAA,QAAA,iBAAAqD,EAAA,OAQA,QAAA,IAAA9R,KAAA,YAAA,CACA,IAAAvC,EAAAf,EAAAqV,OAAA,qBACA/R,KAAAwO,SAAAlJ,QAAA7H,GACA8Q,KAAAvO,KAAA0O,cAIA1O,KAAAgS,aAAA,GAGAvC,YAAA,SAAAhS,GACA,IAAAwU,EAAApV,EAAAY,EAAAyU,eACA9F,EAAApM,KAAAwO,SAAAjN,KAAA,aAAA6K,MAAA6F,GAEA,KAAA7F,EAAApM,KAAA0O,aAAA1O,KAAAjB,QAAAsP,qBAAA,CAGA,IAAA8D,EAAAzV,EAAAqV,OAAA,yBACA/R,KAAAwO,SAAAlJ,QAAA6M,GACA5D,KAAAnC,EAAA,IAEA+F,EAAAC,uBAIApS,KAAA0O,YAAAtC,EAAA,EACApM,KAAA4Q,cAIAD,UAAA,WACA,IAAAxJ,EAAA,EACAiJ,EAAApQ,KAAAwO,SAAAjN,KAAA,UACA8O,EAAArQ,KAAAwO,SAAAjN,KAAA,iBAEA6O,EAAArB,WAAA1D,KAAA,WACA,IAAA6F,EAAArU,EAAAmD,MACAwQ,EAAAU,EAAA3P,KAAA,UACAgN,EAAA2C,EAAAzC,KAAA,aAEA4D,MAAAvJ,SAAA0H,EAAApS,OAAA,MACAoS,EAAApS,KAAA+I,GAGA+J,EAAAzC,KAAA,YAAAtH,GACAkJ,EAAA9O,KAAA,yBAAAgN,EAAA,WAAAE,KAAA,YAAAtH,GACAA,OAIAoI,SAAA,WACA,IAAAvP,KAAAjB,QAAAsP,qBAAA,IAAArO,KAAA0O,YAAA,CAIA,IAAAjR,EAAAf,EAAAqV,OAAA,2BAKA,GAJA/R,KAAAwO,SAAAlJ,QAAA7H,GACA8Q,KAAAvO,KAAA0O,YACA4D,UAAA,cAEA7U,EAAA2U,uBAIApS,KAAA0O,aAAA,EACA1O,KAAA4Q,WAGA5Q,KAAA4O,SAAAnG,GAAA,WAAA,CACA,IAAA8J,EAAAvS,KAAAwO,SAAAjN,KAAA,WAAAA,KAAA,2BAAA,QAEA,IAAAgR,EAEA1V,EAAA0V,GAAA7M,QACA,IAAA1F,KAAAwO,SAAAjN,KAAA,uBAAAwD,QAAA/E,KAAA4O,SAAAnG,GAAA,cAEAzI,KAAA6O,SAAAnJ,WAMA8J,KAAA,WACA,IAAA/R,EAAAf,EAAAqV,OAAA,2BAKA,GAJA/R,KAAAwO,SAAAlJ,QAAA7H,GACA8Q,KAAAvO,KAAA0O,YACA4D,UAAA,UAEA7U,EAAA2U,uBAIApS,KAAA0O,YAAA1O,KAAA2O,UACA3O,KAAA0O,aAAA,EACA1O,KAAA4Q,YAEA5Q,KAAAwO,SAAAlJ,QAAA,sBAIAtF,KAAA6O,SAAApG,GAAA,WAAA,CACA,IAAA8J,EAAAvS,KAAAwO,SAAAjN,KAAA,WAAAA,KAAA,2BAAA,QAEA,IAAAgR,EAEA1V,EAAA0V,GAAA7M,QACA,IAAA1F,KAAAwO,SAAAjN,KAAA,uBAAAwD,QAAA/E,KAAA6O,SAAApG,GAAA,cAEAzI,KAAA4O,SAAAlJ,UAMA4I,aAAA,SAAAA,GACA,IAAAkE,EAAAjE,EA8BA,OA5BAD,GACAC,EAAAD,EAAAC,OAAA,EAIA,IAFAA,EAAAvG,OAAAhI,KAAAwO,SAAAjN,KAAA,wBAAAgN,EAAA,MAAA9B,QAAAgC,KAAA,eAAAzG,OAAAuG,KAEAA,GAAAvO,KAAA2O,UACA3O,KAAA0O,YAAAH,EACAvO,KAAA4Q,aAEArC,EAAAvO,KAAAwO,SAAAjN,KAAA,0BAAAkN,KAAA,aACA4D,MAAA9D,KACAvO,KAAA0O,YAAA5F,SAAAyF,EAAA,IACAvO,KAAA4Q,aAKA4B,EAAAxS,OAEAwS,GACAjE,KAAAvO,KAAA0O,aAEA1O,KAAAwO,SAAAjN,KAAA,qCAAAwD,SACAyN,EAAAC,SAAAzS,KAAAwO,SAAAjN,KAAA,0BAAAkN,KAAA,eAKA+D,KAOA,OAFA/T,EAAAoC,SAAAuN,GAEAtR,EAAAsR,OAAAA,IAIA9R,EAAA,oCACA,WACA,cACA,gBACA,aACA,eACA,UACA,aACA,YACA,YACA,SAAAQ,GACA,OAAAA,IAEAR,EAAA,+BAAA,oCAAA,SAAAoW,GAAA,OAAAA","file":"../skylark-domx-plugins-panels.js","sourcesContent":["define('skylark-domx-plugins-panels/panels',[\n  \"skylark-langx/skylark\",\n  \"skylark-langx/langx\",\n  \"skylark-domx-browser\",\n  \"skylark-domx-eventer\",\n  \"skylark-domx-noder\",\n  \"skylark-domx-geom\",\n  \"skylark-domx-query\"\n],function(skylark,langx,browser,eventer,noder,geom,$){\n\tvar panels = {};\n\n\tvar CONST = {\n\t\tBACKSPACE_KEYCODE: 8,\n\t\tCOMMA_KEYCODE: 188, // `,` & `<`\n\t\tDELETE_KEYCODE: 46,\n\t\tDOWN_ARROW_KEYCODE: 40,\n\t\tENTER_KEYCODE: 13,\n\t\tTAB_KEYCODE: 9,\n\t\tUP_ARROW_KEYCODE: 38\n\t};\n\n\tvar isShiftHeld = function isShiftHeld (e) { return e.shiftKey === true; };\n\n\tvar isKey = function isKey (keyCode) {\n\t\treturn function compareKeycodes (e) {\n\t\t\treturn e.keyCode === keyCode;\n\t\t};\n\t};\n\n\tvar isBackspaceKey = isKey(CONST.BACKSPACE_KEYCODE);\n\tvar isDeleteKey = isKey(CONST.DELETE_KEYCODE);\n\tvar isTabKey = isKey(CONST.TAB_KEYCODE);\n\tvar isUpArrow = isKey(CONST.UP_ARROW_KEYCODE);\n\tvar isDownArrow = isKey(CONST.DOWN_ARROW_KEYCODE);\n\n\tvar ENCODED_REGEX = /&[^\\s]*;/;\n\t/*\n\t * to prevent double encoding decodes content in loop until content is encoding free\n\t */\n\tvar cleanInput = function cleanInput (questionableMarkup) {\n\t\t// check for encoding and decode\n\t\twhile (ENCODED_REGEX.test(questionableMarkup)) {\n\t\t\tquestionableMarkup = $('<i>').html(questionableMarkup).text();\n\t\t}\n\n\t\t// string completely decoded now encode it\n\t\treturn $('<i>').text(questionableMarkup).html();\n\t};\n\n\tlangx.mixin(panels, {\n\t\tCONST: CONST,\n\t\tcleanInput: cleanInput,\n\t\tisBackspaceKey: isBackspaceKey,\n\t\tisDeleteKey: isDeleteKey,\n\t\tisShiftHeld: isShiftHeld,\n\t\tisTabKey: isTabKey,\n\t\tisUpArrow: isUpArrow,\n\t\tisDownArrow: isDownArrow\n\t});\n\n\treturn skylark.attach(\"domx.plugins.panels\",panels);\n\n});\n\ndefine('skylark-domx-plugins-panels/panel',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-geom\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./panels\",\r\n],function(langx,browser,eventer,noder,geom,$,plugins,panels){\r\n\r\n  var Panel = plugins.Plugin.inherit({\r\n    klassName : \"Panel\",\r\n\r\n    pluginName : \"domx.panels.panel\",\r\n\r\n    options : {\r\n      resizable : {\r\n          minWidth: 320,\r\n          minHeight: 320,\r\n          border : {\r\n              classes :  {\r\n                  all : \"resizable-handle\",\r\n                  top : \"resizable-handle-n\",\r\n                  left: \"resizable-handle-w\",\r\n                  right: \"resizable-handle-e\",\r\n                  bottom: \"resizable-handle-s\", \r\n                  topLeft : \"resizable-handle-nw\", \r\n                  topRight : \"resizable-handle-ne\",\r\n                  bottomLeft : \"resizable-handle-sw\",             \r\n                  bottomRight : \"resizable-handle-se\"     \r\n              }\r\n          }\r\n      }\r\n    },\r\n\r\n    _construct : function(elm,options) {\r\n      this.overrided(elm,options);\r\n      this._velm = this.elmx();\r\n\r\n      if (this.options.resizable) {\r\n\r\n          this._resizable = new Resizable(elm,{\r\n              handle : {\r\n                  border : {\r\n                      directions : {\r\n                          top: true, //n\r\n                          left: true, //w\r\n                          right: true, //e\r\n                          bottom: true, //s\r\n                          topLeft : true, // nw\r\n                          topRight : true, // ne\r\n                          bottomLeft : true, // sw\r\n                          bottomRight : true // se                         \r\n                      },\r\n                      classes : {\r\n                          all : this.options.resizable.border.classes.all,\r\n                          top : this.options.resizable.border.classes.top,\r\n                          left: this.options.resizable.border.classes.left,\r\n                          right: this.options.resizable.border.classes.right,\r\n                          bottom: this.options.resizable.border.classes.bottom, \r\n                          topLeft : this.options.resizable.border.classes.topLeft, \r\n                          topRight : this.options.resizable.border.classes.topRight,\r\n                          bottomLeft : this.options.resizable.border.classes.bottomLeft,             \r\n                          bottomRight : this.options.resizable.border.classes.bottomRight                        \r\n                      }                        \r\n                  }\r\n              },\r\n              constraints : {\r\n                  minWidth : this.options.resizable.minWidth,\r\n                  minHeight : this.options.resizable.minHeight\r\n              },\r\n              started : function(){\r\n                  this.isResizing = true;\r\n              },\r\n              moving : function(e) {\r\n                  /*\r\n                  const imageWidth = $(image).width();\r\n                  const imageHeight = $(image).height();\r\n                  const stageWidth = $(stage).width();\r\n                  const stageHeight = $(stage).height();\r\n                  const left = (stageWidth - imageWidth) /2;\r\n                  const top = (stageHeight- imageHeight) /2;\r\n                  $(image).css({\r\n                      left,\r\n                      top\r\n                  });\r\n                  */\r\n              },\r\n              stopped :function () {\r\n                  this.isResizing = false;\r\n              }\r\n          });\r\n\r\n      }\r\n    },\r\n\r\n\r\n  });\r\n\r\n  plugins.register(Panel);\r\n\r\n  return Panel;\r\n\r\n});\ndefine('skylark-domx-plugins-panels/collapsible',[\n  \"skylark-langx/langx\",\n  \"skylark-domx-browser\",\n  \"skylark-domx-eventer\",\n  \"skylark-domx-noder\",\n  \"skylark-domx-geom\",\n  \"skylark-domx-query\",\n  \"skylark-domx-plugins-base\",\n  \"skylark-domx-plugins-toggles/collapse\",\n  \"./panels\",\n  \"./panel\"\n],function(langx,browser,eventer,noder,geom,$,plugins,Collapse,panels,Panel){\n\n  var Collapsible = plugins.Plugin.inherit({\n    klassName : \"Collapsible\",\n\n    pluginName : \"domx.panels.collapsible\",\n\n    options : {\n      toggler : {\n        selector : \".panel-heading [data-toggle=\\\"collapse\\\"]\"\n      },\n\n      body : {\n        selector : \".panel-collapse\"\n      }\n    },\n\n    _construct : function(elm,options) {\n      Panel.prototype._construct.call(this,elm,options);\n      \n      this._expanded = false;\n      this.$toggle = this._velm.find(this.options.toggler.selector);\n      this.$body = this._velm.find(this.options.body.selector);\n      this.$toggle.on('click.panel',(e) => {\n        this.toggle();\n      });\n\n    },\n\n    expand : function() {\n      // expand this panel\n      this.emit(\"expanding\");\n      this.$body.plugin(Collapse.prototype.pluginName).show();\n      this._expanded = true;\n      this.emit(\"expanded\");\n    },\n\n    collapse : function() {\n      // collapse this panel\n      this.emit(\"collapsing\");\n      this.$body.plugin(Collapsable.prototype.pluginName).hide();\n      this._expanded = false;\n      this.emit(\"collapsed\");\n    },\n\n    toggle : function() {\n      // toggle this panel\n      if (this._expanded) {\n        this.collapse();\n      } else {\n        this.expand();\n      }\n    },\n\n    full : function() {\n\n    },\n\n    unfull : function() {\n\n    },\n\n    toogleFull : function() {\n\n    },\n    \n    close: function () {\n    }\n\n\n  });\n\n  plugins.register(Collapsible);\n\n  return panels.Collapsible = Collapsible;\n\n});\n define('skylark-domx-plugins-panels/accordion',[\n  \"skylark-langx/langx\",\n  \"skylark-domx-query\",\n  \"skylark-domx-velm\",\n  \"skylark-domx-plugins-base\",\n  \"./panels\",\n  \"./panel\",\n  \"./collapsible\"\n],function(langx,$,elmx,plugins,panels,Panel,Collapsible){\n\n  var Accordion = Panel.inherit({\n    klassName : \"Accordion\",\n\n    pluginName : \"domx.panels.accordion\",\n\n    options : {\n      panel: {\n        selector : \"> .panel\",\n        template : null,\n      }\n    },\n\n     _construct : function(elm,options) {\n      Panel.prototype._construct.call(this,elm,options);\n      var panels = [];\n      this._velm.$(this.options.panel.selector).forEach((panelEl) => {\n        var panel = new Accordion.Pane(panelEl,{\n          group : this\n        });\n        panels.push(panel);\n      });\n      this._panels = panels;\n    },\n\n    panels : {\n      get : function() {\n\n      }\n    },\n\n\n    addPanel : function() {\n\n    },\n\n    /**\n     * Removes a group pane.\n     *\n     * @method remove\n     * @return {Accordion} The current widget.\n     */\n    remove : function() {\n\n    },\n\n    /**\n     * Expands a group pane.\n     *\n     * @method remove\n     * @return {Accordion} The current widget.\n     */\n    expand : function() {\n      // expand a panel\n\n    },\n\n    /**\n     * Expands all group panes.\n     *\n     * @method expandAll\n     * @return {Accordion} The current widget.\n     */\n    expandAll : function() {\n      // expand a panel\n\n    },\n\n    /**\n     * Collapse a group pane.\n     *\n     * @method collapse\n     * @return {Accordion} The current widget.\n     */\n    collapse : function() {\n\n    },\n\n    /**\n     * Collapses all group pane.\n     *\n     * @method collapseAll\n     * @return {Accordion} The current widget.\n     */\n    collapseAll : function() {\n\n    }\n  });\n\n  Accordion.Pane = Collapsible.inherit({\n    klassName : \"AccordionPane\",\n\n    expand : function() {\n      if (this.options.group.active) {\n        this.options.group.active.collapse();\n      }\n      this.overrided();\n      this.options.group.active = this;\n    },\n\n    collapse : function() {\n      this.overrided();\n      this.options.group.active = null;\n    },\n\n    toggle : function() {\n      this.overrided();\n    },\n\n    remove : function() {\n      this.overrided();\n    }\n\n  });\n\n  plugins.register(Accordion);\n\n  return panels.Accordion = Accordion;\n});\n\ndefine('skylark-domx-plugins-panels/floating',[\r\n    \"skylark-domx/noder\",\r\n    \"skylark-domx/eventer\",\r\n    \"skylark-domx/query\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-interact/movable\",\r\n    \"./panels\",\r\n    \"./panel\"\r\n], function (noder,eventer,$,plugins,Movable, panels,Panel) {\r\n    'use strict';\r\n\r\n    var floatings = [];\r\n\r\n    var Floating = Panel.inherit({\r\n        klassName : \"Floating\",\r\n\r\n        pluginName : \"domx.panels.floating\",\r\n\r\n        options : {\r\n            selectors : {\r\n                headerPane  : \"\",\r\n                contentPane : \"\",\r\n                footerPane  : \"\",\r\n                titlebar : \"\",\r\n                buttons : {\r\n                    \"fullscreen\" : \".button-fullscreen\",\r\n                    \"maximize\" : \".button-maximize\",\r\n                    \"minimize\" : \".button-minimize\",     \r\n                    \"close\" : \".button-close\"\r\n                }\r\n            },\r\n\r\n            classes : {\r\n                \"maximize\" : \"maximize\"\r\n            },\r\n\r\n            fixedContent: true,\r\n            initMaximized: false,\r\n\r\n            movable : {\r\n                dragHandle: false,\r\n                dragCancel: null\r\n            }\r\n        },\r\n\r\n        _construct : function(elm,options) {\r\n            Panel.prototype._construct.call(this,elm,options);\r\n            this.$pane = $(this._elm);\r\n\r\n            this.isOpened = false;\r\n            this.isMaximized = false;\r\n\r\n            if (this.options.movable) {\r\n                this._movable = new Movable(elm,{\r\n                    handle : this.options.movable.dragHandle,\r\n                    starting : (e) => {\r\n                        const   dragCancel = this.options.movable.dragCancel, \r\n                                elemCancel = $(e.target).closest(dragCancel);\r\n                        if (elemCancel.length) {\r\n                            return false;\r\n                        }\r\n                        if (this.isResizing || this.isMaximized) {\r\n                            return false;\r\n                        }\r\n\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            this.$close = this._velm.$(this.options.selectors.buttons.close);\r\n            this.$maximize = this._velm.$(this.options.selectors.buttons.maximize);\r\n            this.$minimize = this._velm.$(this.options.selectors.buttons.minimize);\r\n            this.$fullscreen = this._velm.$(this.options.selectors.buttons.fullscreen);\r\n\r\n\r\n            this.$close.off(\"click.window\").on(\"click.window\", e => {\r\n                this.close();\r\n            });\r\n            this.$fullscreen.off(\"click.window\").on(\"click.window\", () => {\r\n                this.fullscreen();\r\n            });\r\n            this.$maximize.off(\"click.window\").on(\"click.window\", () => {\r\n                this.maximize();\r\n            });\r\n            this.$pane.off(\"keydown.window\").on(\"keydown.window\", e => {\r\n                this._keydown(e);\r\n            });\r\n\r\n            floatings.push(this);\r\n        },\r\n        close: function() {\r\n            this.trigger('closing', this);\r\n            this.$pane.remove();\r\n            this.isOpened = false;\r\n            this.isMaximized = false;\r\n\r\n            ///if (!$(Constants.CLASS_NS + '-modal').length) {\r\n            ///    if (this.options.fixedContent) {\r\n            ///        $('html').css({\r\n            ///            overflow: '',\r\n            ///            'padding-right': ''\r\n            ///        });\r\n            ///    }\r\n                ///if (this.options.multiInstances) {\r\n                ///    zIndex = this.options.zIndex;\r\n                ///}\r\n            ///    eventer.off(window,\"resize.window\");\r\n            var idx = floatings.indexOf(this);\r\n            if (idx>-1) {\r\n                floatings.splice(idx,1);\r\n            }\r\n            this.trigger('closed', this);\r\n        },\r\n\r\n        maximize: function() {\r\n            this.$pane.get(0).focus();\r\n            if (!this.isMaximized) {\r\n                this.modalData = {\r\n                    width: this.$pane.width(),\r\n                    height: this.$pane.height(),\r\n                    left: this.$pane.offset().left,\r\n                    top: this.$pane.offset().top\r\n                };\r\n                this.$pane.addClass(this.options.classes.maximize);\r\n                this.$pane.css({\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    left: 0,\r\n                    top: 0\r\n                });\r\n                this.isMaximized = true;\r\n            } else {\r\n                let $W = $(window),$D = $(document);\r\n                this.$pane.removeClass(this.options.classes.maximize);\r\n                const initModalLeft = ($W.width() - this.options.modalWidth) / 2 + $D.scrollLeft();\r\n                const initModalTop = ($W.height() - this.options.modalHeight) / 2 + $D.scrollTop();\r\n                this.$pane.css({\r\n                    width: this.modalData.width ? this.modalData.width : this.options.modalWidth,\r\n                    height: this.modalData.height ? this.modalData.height : this.options.modalHeight,\r\n                    left: this.modalData.left ? this.modalData.left : initModalLeft,\r\n                    top: this.modalData.top ? this.modalData.top : initModalTop\r\n                });\r\n                this.isMaximized = false;\r\n            }\r\n\r\n            eventer.resized(this._elm);\r\n        },\r\n        fullscreen: function() {\r\n            this.$pane.get(0).focus();\r\n            noder.fullscreen(this.$pane[0]);\r\n        },\r\n        _keydown: function(e) {\r\n            if (!this.options.keyboard) {\r\n                return false;\r\n            }\r\n            const keyCode = e.keyCode || e.which || e.charCode;\r\n            const ctrlKey = e.ctrlKey || e.metaKey;\r\n            const altKey = e.altKey || e.metaKey;\r\n            switch (keyCode) {\r\n\r\n                // Q\r\n                case 81:\r\n                    this.close();\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    eventer.on(window,\"resize.window\", ()=>{\r\n        for (let i=0; i<floatings.length; i++ ) {\r\n            eventer.resized(floatings[i]._elm);\r\n        }\r\n    });\r\n\r\n    return panels.Floating = Floating;\r\n});\ndefine('skylark-domx-plugins-panels/pagination',[\n  \"skylark-langx/langx\",\n  \"skylark-domx-browser\",\n  \"skylark-domx-eventer\",\n  \"skylark-domx-noder\",\n  \"skylark-domx-geom\",\n  \"skylark-domx-query\",\n  \"skylark-domx-plugins-base\",\n  \"./panels\",\n  \"./panel\"\n],function(langx,browser,eventer,noder,geom,$,plugins,panels,Panel){\n\n  'use strict';\n\n  var Pagination = Panel.inherit({\n      klassName : \"Pagination\",\n\n      pluginName : \"domx.panels.pagination\",\n\n      options : {\n          tagName : \"ul\",\n          css : \"\",\n          selectors : {\n              firstNavi : \"li[aria-label='first']\",\n              prevNavi : \"li[aria-label='prev']\",\n              nextNavi : \"li[aria-label='next']\",\n              lastNavi : \"li[aria-label='last']\",\n              numericNavi : \"li:not([aria-label])\",\n              numericTxt  : \"a\"\n          },\n          totalPages: 7,\n          maxButtonsVisible: 5,\n          currentPage: 1     \n      },\n\n      state : {\n          totalPages : Number,\n          currentPage : Number\n      },\n\n      _construct : function(elm,options) {\n        Panel.prototype._construct.call(this,elm,options);\n\n        this.$first = this._velm.$(this.options.selectors.firstNavi);\n        this.$prev = this._velm.$(this.options.selectors.prevNavi);\n        this.$last = this._velm.$(this.options.selectors.lastNavi);\n        this.$next = this._velm.$(this.options.selectors.nextNavi);\n        this.$numeric = this._velm.$(this.options.selectors.numericNavi);\n\n        var self = this;\n\n        function checkCanAction(elm) {\n          var $elm = $(elm);\n          if ($elm.is(\".disabled,.active\")) {\n            return false;\n          } else {\n            return $elm;\n          }\n        }\n\n        this.$first.click(function(){\n          if (!checkCanAction(this)) {\n            return;\n          }\n          self.currentPage(1);\n        });\n\n        this.$prev.click(function(){\n          if (!checkCanAction(this)) {\n            return;\n          }\n          self.currentPage(self.currentPage()-1);\n        });\n\n        this.$last.click(function(){\n          if (!checkCanAction(this)) {\n            return;\n          }\n          self.currentPage(self.totalPages());\n        });\n\n        this.$next.click(function(){\n          if (!checkCanAction(this)) {\n            return;\n          }\n          self.currentPage(self.currentPage()+1);\n        });\n\n        this.$numeric.click(function(){\n          var ret = checkCanAction(this)\n          if (!ret) {\n            return;\n          }\n          var numeric = ret.find(self.options.selectors.numericTxt).text(),\n              pageNo = parseInt(numeric);\n          self.currentPage(pageNo);\n\n        });\n\n        this._currentPage = this.options.currentPage;\n        this._totalPages = this.options.totalPages;\n\n        this._refresh({\n          currentPage : true,\n          totalPages : true\n        });\n      },\n\n      _refresh: function (updates) {\n        var self = this;\n\n        function changePageNoBtns(currentPage,totalPages) {\n\n          // Create the numeric buttons.\n          // Variable of number control in the buttons.\n          var totalPageNoBtns = Math.min(totalPages, self.options.maxButtonsVisible);\n          var begin = 1;\n          var end = begin + totalPageNoBtns - 1;\n\n          /*\n           * Align the values in the begin and end variables if the user has the\n           * possibility that select a page that doens't appear in the paginador.\n           * e.g currentPage = 1, and user go to the 20 page.\n           */\n          while ((currentPage < begin) || (currentPage > end)) {\n            if (currentPage > end) {\n               begin += totalPageNoBtns;\n               end += totalPageNoBtns;\n\n               if (end > totalPages) {\n                 begin = begin - (end - totalPages);\n                 end = totalPages;\n               }\n             } else {\n               begin -= totalPageNoBtns;\n               end -= totalPageNoBtns;\n\n               if (begin < 0) {\n                 end = end + (begin + totalPageNoBtns);\n                 begin = 1;\n               }\n             }\n          }\n         /*\n          * Verify if the user clicks in the last page show by paginator.\n          * If yes, the paginator advances.\n          */\n          if ((currentPage === end) && (totalPages != 1)) {\n            begin = currentPage - 1;\n            end = begin + totalPageNoBtns - 1;\n\n            if (end >= totalPages) {\n              begin = begin - (end - (totalPages));\n              end = totalPages;\n            }\n          }\n\n          /*\n           * Verify it the user clicks in the first page show by paginator.\n           * If yes, the paginator retrogress\n           */\n           if ((begin === currentPage) && (totalPages != 1)) {\n             if (currentPage != 1) {\n               end = currentPage + 1;\n               begin = end - (totalPageNoBtns - 1);\n             }\n           }\n\n           var count = self.$numeric.size(),\n               visibles = end-begin + 1,\n               i = 0;\n\n           self.$numeric.filter(\".active\").removeClass(\"active\");\n           while (i<visibles) {\n             var pageNo = i + begin,\n                 $btn = self.$numeric.eq(i);\n             $btn.find(self.options.selectors.numericTxt).text(i+begin).show();\n             if (pageNo == currentPage) {\n              $btn.addClass(\"active\");\n             }\n             i++;\n           }\n           while (i<count) {\n             self.$numeric.eq(i).find(self.options.selectors.numericTxt).text(i+begin).hide();\n             i++;\n           }\n\n\n        }\n\n        function changeLabeldBtns(currentPage,totalPages) {\n          if (currentPage < 1) {\n            throw('Page can\\'t be less than 1');\n          } else if (currentPage > totalPages) {\n            throw('Page is bigger than total pages');\n          }\n\n          if (totalPages < 1) {\n            throw('Total Pages can\\'t be less than 1');\n          }\n\n          if (currentPage == 1 ) {\n            self.$first.addClass(\"disabled\");\n            self.$prev.addClass(\"disabled\");\n          } else {\n            self.$first.removeClass(\"disabled\");\n            self.$prev.removeClass(\"disabled\");\n          }\n\n          if (currentPage == totalPages ) {\n            self.$last.addClass(\"disabled\");\n            self.$next.addClass(\"disabled\");\n          } else {\n            self.$last.removeClass(\"disabled\");\n            self.$next.removeClass(\"disabled\");\n          }\n        }\n\n        if (updates.currentPage || updates.totalPages) {\n          var currentPage = self.currentPage(),\n              totalPages = self.totalPages();\n\n          changePageNoBtns(currentPage,totalPages);\n          changeLabeldBtns(currentPage,totalPages);\n        }\n\n      },\n\n      currentPage : function(v) {\n        if (v !== undefined) {\n          this._currentPage = v;\n          this._refresh({\n            currentPage : true\n          });            \n          return this;\n        } else {\n          return this._currentPage;\n        }\n      },\n\n      totalPages : function(v) {\n        if (v !== undefined) {\n          this._totalPages = v;\n          this._refresh({\n            totalPages : true\n          });\n          return this;\n        } else {\n          return this._totalPages;\n        }\n      }\n  });\n\n  plugins.register(Pagination);\n\n\n  return panels.Pagination = Pagination;\n});\ndefine('skylark-domx-plugins-panels/tabstrip',[\n    \"skylark-langx/langx\",\n    \"skylark-domx-browser\",\n    \"skylark-domx-eventer\",\n    \"skylark-domx-noder\",\n    \"skylark-domx-geom\",\n    \"skylark-domx-query\",\n    \"skylark-domx-plugins-base\",\n    \"skylark-domx-plugins-popups/Dropdown\",\n    \"skylark-domx-plugins-toggles/tab\",\n    \"./panels\",\n    \"./panel\"\n], function(langx, browser, eventer, noder, geom,  $, plugins,Dropdown, TabButton,panels,Panel) {\n\n    var TabStrip = Panel.inherit({\n        klassName : \"TabStrip\",\n        pluginName : \"domx.panels.tabstrip\",\n\n        options : {\n          selectors : {\n            header : \".nav-tabs\",\n            tab : \"[data-toggle=\\\"tab\\\"]\",\n            content : \".tab-content\",\n            tabpane : \".tab-pane\"\n          },\n\n          droptabs : {\n            selectors : {\n              dropdown : \"li.droptabs\",\n              dropdownMenu    : \"ul.dropdown-menu\",\n              dropdownTabs    : \"li\",\n              dropdownCaret   : \"b.caret\",\n              visibleTabs     : \">li:not(.dropdown)\",\n            },\n            auto              : true,\n            pullDropdownRight : true,\n\n\n          }\n        },\n\n     _construct : function(elm,options) {\n        Panel.prototype._construct.call(this,elm,options);\n\n        this.$header = this._velm.$(this.options.selectors.header); \n        this.$tabs = this.$header.find(this.options.selectors.tab);\n        this.$content = this._velm.$(this.options.selectors.content);\n        this.$tabpanes = this.$content.find(this.options.selectors.tabpane);\n\n        this.$header.find('[data-toggle=\"dropdown\"]').plugin(Dropdown.prototype.pluginName);\n\n        var self = this;\n        this.$tabs.each(function(idx,tabEl){\n          $(tabEl).plugin(TabButton.prototype.pluginName, {\n            target : self.$tabpanes[idx]\n          });\n        });\n\n      },\n\n      arrange : function () {\n\n        var dropdownTabsSelector = this.options.droptabs.selectors.dropdownTabs,\n            visibleTabsSelector = this.options.droptabs.selectors.visibleTabs;\n\n            $container = this.$header;\n        var dropdown = $container.find(this.options.droptabs.selectors.dropdown);\n        var dropdownMenu = dropdown.find(this.options.droptabs.selectors.dropdownMenu);\n        var dropdownLabel = $('>a', dropdown).clone();\n        var dropdownCaret = $(this.options.droptabs.selectors.dropdownCaret, dropdown);\n\n        // We only want the default label, strip the caret out\n        $(this.options.droptabs.selectors.dropdownCaret, dropdownLabel).remove();\n\n        if (this.options.droptabs.pullDropdownRight) {\n          $(dropdown).addClass('pull-right');\n        }\n\n        var $dropdownTabs = function () {\n          return $(dropdownTabsSelector, dropdownMenu);\n        }\n\n        var $visibleTabs = function () {\n          return $(visibleTabsSelector, $container);\n        }\n\n        function getFirstHiddenElementWidth() {\n          var tempElem=$dropdownTabs().first().clone().appendTo($container).css(\"position\",\"fixed\");\n          var hiddenElementWidth = $(tempElem).outerWidth();\n          $(tempElem).remove();\n          return hiddenElementWidth;\n        }\n\n        function getHiddenElementWidth(elem) {\n          var tempElem=$(elem).clone().appendTo($container).css(\"position\",\"fixed\");\n          var hiddenElementWidth = $(tempElem).outerWidth();\n          $(tempElem).remove();\n          return hiddenElementWidth;\n        }\n\n        function getDropdownLabel() {\n          var labelText = 'Dropdown';\n          if ($(dropdown).hasClass('active')) {\n            labelText = $('>li.active>a', dropdownMenu).html();\n          } else if (dropdownLabel.html().length > 0) {\n            labelText = dropdownLabel.html();\n          }\n\n          labelText = $.trim(labelText);\n\n          if (labelText.length > 10) {\n            labelText = labelText.substring(0, 10) + '...';\n          }\n\n          return labelText;\n        }\n\n        function renderDropdownLabel() {\n          $('>a', dropdown).html(getDropdownLabel() + ' ' + dropdownCaret.prop('outerHTML'));\n        }\n\n        function manageActive(elem) {\n          //fixes a bug where Bootstrap can't remove the 'active' class on elements after they've been hidden inside the dropdown\n          $('a', $(elem)).on('show.bs.tab', function (e) {\n            $(e.relatedTarget).parent().removeClass('active');\n          })\n          $('a', $(elem)).on('shown.bs.tab', function (e) {\n            renderDropdownLabel();\n          })\n\n        }\n\n        function checkDropdownSelection() {\n          if ($($dropdownTabs()).filter('.active').length > 0) {\n            $(dropdown).addClass('active');\n          } else {\n            $(dropdown).removeClass('active');\n          }\n\n          renderDropdownLabel();\n        }\n\n\n        var visibleTabsWidth = function () {\n          var visibleTabsWidth = 0;\n          $($visibleTabs()).each(function( index ) {\n            visibleTabsWidth += parseInt($(this).outerWidth(), 10);\n          });\n          visibleTabsWidth = visibleTabsWidth + parseInt($(dropdown).outerWidth(), 10);\n          return visibleTabsWidth;\n        }\n\n        var availableSpace = function () {\n          return $container.outerWidth()-visibleTabsWidth();\n        }\n\n        if (availableSpace()<0) {//we will hide tabs here\n          var x = availableSpace();\n          $($visibleTabs().get().reverse()).each(function( index ){\n            if (!($(this).hasClass('always-visible'))){\n                $(this).prependTo(dropdownMenu);\n                x=x+$(this).outerWidth();\n            }\n            if (x>=0) {return false;}\n          });\n        }\n\n        if (availableSpace()>getFirstHiddenElementWidth()) { //and here we bring the tabs out\n          var x = availableSpace();\n          $($dropdownTabs()).each(function( index ){\n            if (getHiddenElementWidth(this) < x && !($(this).hasClass('always-dropdown'))){\n              $(this).appendTo($container);\n              x = x-$(this).outerWidth();\n            } else {return false;}\n           });\n\n          if (!this.options.droptabs.pullDropdownRight && !$(dropdown).is(':last-child')) {\n            // If not pulling-right, keep the dropdown at the end of the container.\n            $(dropdown).detach().insertAfter($container.find('li:last-child'));\n          }\n        }\n\n        if ($dropdownTabs().length <= 0) {\n          dropdown.hide();\n        } else {\n          dropdown.show();\n        }\n      },\n\n      add : function() {\n        //TODO\n      },\n\n      remove : function(){\n        //TODO\n      }\n    });\n\n    plugins.register(TabStrip);\n\n\n    return panels.TabStrip = TabStrip;\n\n});\ndefine('skylark-domx-plugins-panels/toolbar',[\n  \"skylark-langx/langx\",\n  \"skylark-domx-query\",\n  \"skylark-domx-plugins-base\",\n  \"./panels\",\n  \"./panel\"\n],function(langx,$,plugins,panels,Panel){ \n\n\n  var Toolbar = Panel.inherit({\n    klassName : \"Toolbar\",\n\n    pluginName : \"domx.panels.toolbar\",\n\n    options : {\n      toolbarFloat: true,\n      toolbarHidden: false,\n      toolbarFloatOffset: 0,\n      template : '<div class=\"domx-toolbar\"><ul></ul></div>',\n      separator : {\n        template :  '<li><span class=\"separator\"></span></li>'\n      }\n    },\n\n    _construct : function(elm,options) {\n      Panel.prototype._construct.call(this,elm,options);\n\n      var floatInitialized, initToolbarFloat, toolbarHeight;\n      //this.editor = editor;\n\n      //this.opts = langx.extend({}, this.opts, opts);\n      this.opts = this.options;\n\n\n      //if (!langx.isArray(this.opts.toolbar)) {\n      //  this.opts.toolbar = ['bold', 'italic', 'underline', 'strikethrough', '|', 'ol', 'ul', 'blockquote', 'code', '|', 'link', 'image', '|', 'indent', 'outdent'];\n      //}\n\n      this.wrapper = $(this._elm);\n      this.list = this.wrapper.find('ul');\n      this.list.on('click', function(e) {\n        return false;\n      });\n      this.wrapper.on('mousedown', (function(_this) {\n        return function(e) {\n          return _this.list.find('.menu-on').removeClass('.menu-on');\n        };\n      })(this));\n      $(document).on('mousedown.toolbar', (function(_this) {\n        return function(e) {\n          return _this.list.find('.menu-on').removeClass('menu-on');\n        };\n      })(this));\n      if (!this.opts.toolbarHidden && this.opts.toolbarFloat) {\n        this.wrapper.css('top', this.opts.toolbarFloatOffset);\n        toolbarHeight = 0;\n        initToolbarFloat = (function(_this) {\n          return function() {\n            _this.wrapper.css('position', 'static');\n            _this.wrapper.width('auto');\n            _this.editor.editable.util.reflow(_this.wrapper);\n            _this.wrapper.width(_this.wrapper.outerWidth());\n            _this.wrapper.css('left', _this.editor.editable.util.os.mobile ? _this.wrapper.position().left : _this.wrapper.offset().left);\n            _this.wrapper.css('position', '');\n            toolbarHeight = _this.wrapper.outerHeight();\n            _this.editor.placeholderEl.css('top', toolbarHeight);\n            return true;\n          };\n        })(this);\n        floatInitialized = null;\n\n        /*\n        $(window).on('resize.richeditor-' + this.editor.id, function(e) {\n          return floatInitialized = initToolbarFloat();\n        });\n        $(window).on('scroll.richeditor-' + this.editor.id, (function(_this) {\n          return function(e) {\n            var bottomEdge, scrollTop, topEdge;\n            if (!_this.wrapper.is(':visible')) {\n              return;\n            }\n            topEdge = _this.editor.wrapper.offset().top;\n            bottomEdge = topEdge + _this.editor.wrapper.outerHeight() - 80;\n            scrollTop = $(document).scrollTop() + _this.opts.toolbarFloatOffset;\n            if (scrollTop <= topEdge || scrollTop >= bottomEdge) {\n              _this.editor.wrapper.removeClass('toolbar-floating').css('padding-top', '');\n              if (_this.editor.editable.util.os.mobile) {\n                return _this.wrapper.css('top', _this.opts.toolbarFloatOffset);\n              }\n            } else {\n              floatInitialized || (floatInitialized = initToolbarFloat());\n              _this.editor.wrapper.addClass('toolbar-floating').css('padding-top', toolbarHeight);\n              if (_this.editor.editable.util.os.mobile) {\n                return _this.wrapper.css('top', scrollTop - topEdge + _this.opts.toolbarFloatOffset);\n              }\n            }\n          };\n        })(this));\n        */\n      }\n\n      /*\n      this.editor.on('destroy', (function(_this) {\n        return function() {\n          return _this.buttons.length = 0;\n        };\n      })(this));\n      */\n\n      \n    },\n\n    addToolItem : function(itemWidget) {\n      $(itemWidget._elm).appendTo(this.list);\n      return this;\n    },\n\n    addSeparator : function() {\n      $(this.options.separator.template).appendTo(this.list);\n      return this;\n    }\n\n  });\n\n  plugins.register(Toolbar);\n\n  return panels.Toolbar = Toolbar;\n\n});\ndefine('skylark-domx-plugins-panels/wizard',[\n  \"skylark-langx/langx\",\n  \"skylark-domx-browser\",\n  \"skylark-domx-eventer\",\n  \"skylark-domx-noder\",\n  \"skylark-domx-geom\",\n  \"skylark-domx-query\",\n  \"skylark-domx-plugins-base\",\n  \"./panels\",\n  \"./panel\"\n ],function(langx,browser,eventer,noder,geom,$,plugins,panels,Panel){\n\n\n\tvar Wizard = Panel.inherit({\n\t\tklassName: \"Wizard\",\n\n\t    pluginName : \"domx.panels.wizard\",\n\n\t    options : {\n\t\t\tdisablePreviousStep: false,\n\t\t\tselectedItem: {\n\t\t\t\tstep: -1\n\t\t\t}//-1 means it will attempt to look for \"active\" class in order to set the step\n\t    },\n\n\t    _construct : function(elm,options) {\n      \t\tPanel.prototype._construct.call(this,elm,options);\n\n\t\t\tthis.$element = this.$();\n\t\t\tthis.options.disablePreviousStep = (this.$element.attr('data-restrict') === 'previous') ? true : this.options.disablePreviousStep;\n\t\t\tthis.currentStep = this.options.selectedItem.step;\n\t\t\tthis.numSteps = this.$element.find('.steps li').length;\n\t\t\tthis.$prevBtn = this.$element.find('button.btn-prev');\n\t\t\tthis.$nextBtn = this.$element.find('button.btn-next');\n\n\t\t\tvar kids = this.$nextBtn.children().detach();\n\t\t\tthis.nextText = langx.trim(this.$nextBtn.text());\n\t\t\tthis.$nextBtn.append(kids);\n\n\t\t\tvar steps = this.$element.children('.steps-container');\n\t\t\t// maintains backwards compatibility with < 3.8, will be removed in the future\n\t\t\tif (steps.length === 0) {\n\t\t\t\tsteps = this.$element;\n\t\t\t\tthis.$element.addClass('no-steps-container');\n\t\t\t\tif (window && window.console && window.console.warn) {\n\t\t\t\t\twindow.console.warn('please update your wizard markup to include \".steps-container\" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup');\n\t\t\t\t}\n\t\t\t}\n\t\t\tsteps = steps.find('.steps');\n\n\t\t\t// handle events\n\t\t\tthis.$prevBtn.on('click.fu.wizard', langx.proxy(this.previous, this));\n\t\t\tthis.$nextBtn.on('click.fu.wizard', langx.proxy(this.next, this));\n\t\t\tsteps.on('click.fu.wizard', 'li.complete', langx.proxy(this.stepclicked, this));\n\n\t\t\tthis.selectedItem(this.options.selectedItem);\n\n\t\t\tif (this.options.disablePreviousStep) {\n\t\t\t\tthis.$prevBtn.attr('disabled', true);\n\t\t\t\tthis.$element.find('.steps').addClass('previous-disabled');\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function () {\n\t\t\tthis.$element.remove();\n\t\t\t// any external bindings [none]\n\t\t\t// empty elements to return to original markup [none]\n\t\t\t// returns string of markup\n\t\t\treturn this.$element[0].outerHTML;\n\t\t},\n\n\t\t//index is 1 based\n\t\t//second parameter can be array of objects [{ ... }, { ... }] or you can pass n additional objects as args\n\t\t//object structure is as follows (all params are optional): { badge: '', label: '', pane: '' }\n\t\taddSteps: function (index) {\n\t\t\tvar items = [].slice.call(arguments).slice(1);\n\t\t\tvar $steps = this.$element.find('.steps');\n\t\t\tvar $stepContent = this.$element.find('.step-content');\n\t\t\tvar i, l, $pane, $startPane, $startStep, $step;\n\n\t\t\tindex = (index === -1 || (index > (this.numSteps + 1))) ? this.numSteps + 1 : index;\n\t\t\tif (items[0] instanceof Array) {\n\t\t\t\titems = items[0];\n\t\t\t}\n\n\t\t\t$startStep = $steps.find('li:nth-child(' + index + ')');\n\t\t\t$startPane = $stepContent.find('.step-pane:nth-child(' + index + ')');\n\t\t\tif ($startStep.length < 1) {\n\t\t\t\t$startStep = null;\n\t\t\t}\n\n\t\t\tfor (i = 0, l = items.length; i < l; i++) {\n\t\t\t\t$step = $('<li data-step=\"' + index + '\"><span class=\"badge badge-info\"></span></li>');\n\t\t\t\t$step.append(items[i].label || '').append('<span class=\"chevron\"></span>');\n\t\t\t\t$step.find('.badge').append(items[i].badge || index);\n\n\t\t\t\t$pane = $('<div class=\"step-pane\" data-step=\"' + index + '\"></div>');\n\t\t\t\t$pane.append(items[i].pane || '');\n\n\t\t\t\tif (!$startStep) {\n\t\t\t\t\t$steps.append($step);\n\t\t\t\t\t$stepContent.append($pane);\n\t\t\t\t} else {\n\t\t\t\t\t$startStep.before($step);\n\t\t\t\t\t$startPane.before($pane);\n\t\t\t\t}\n\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tthis.syncSteps();\n\t\t\tthis.numSteps = $steps.find('li').length;\n\t\t\tthis.setState();\n\t\t},\n\n\t\t//index is 1 based, howMany is number to remove\n\t\tremoveSteps: function (index, howMany) {\n\t\t\tvar action = 'nextAll';\n\t\t\tvar i = 0;\n\t\t\tvar $steps = this.$element.find('.steps');\n\t\t\tvar $stepContent = this.$element.find('.step-content');\n\t\t\tvar $start;\n\n\t\t\thowMany = (howMany !== undefined) ? howMany : 1;\n\n\t\t\tif (index > $steps.find('li').length) {\n\t\t\t\t$start = $steps.find('li:last');\n\t\t\t} else {\n\t\t\t\t$start = $steps.find('li:nth-child(' + index + ')').prev();\n\t\t\t\tif ($start.length < 1) {\n\t\t\t\t\taction = 'children';\n\t\t\t\t\t$start = $steps;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t$start[action]().each(function () {\n\t\t\t\tvar item = $(this);\n\t\t\t\tvar step = item.attr('data-step');\n\t\t\t\tif (i < howMany) {\n\t\t\t\t\titem.remove();\n\t\t\t\t\t$stepContent.find('.step-pane[data-step=\"' + step + '\"]:first').remove();\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tthis.syncSteps();\n\t\t\tthis.numSteps = $steps.find('li').length;\n\t\t\tthis.setState();\n\t\t},\n\n\t\tsetState: function () {\n\t\t\tvar canMovePrev = (this.currentStep > 1);//remember, steps index is 1 based...\n\t\t\tvar isFirstStep = (this.currentStep === 1);\n\t\t\tvar isLastStep = (this.currentStep === this.numSteps);\n\n\t\t\t// disable buttons based on current step\n\t\t\tif (!this.options.disablePreviousStep) {\n\t\t\t\tthis.$prevBtn.attr('disabled', (isFirstStep === true || canMovePrev === false));\n\t\t\t}\n\n\t\t\t// change button text of last step, if specified\n\t\t\tvar last = this.$nextBtn.attr('data-last');\n\t\t\tif (last) {\n\t\t\t\tthis.lastText = last;\n\t\t\t\t// replace text\n\t\t\t\tvar text = this.nextText;\n\t\t\t\tif (isLastStep === true) {\n\t\t\t\t\ttext = this.lastText;\n\t\t\t\t\t// add status class to wizard\n\t\t\t\t\tthis.$element.addClass('complete');\n\t\t\t\t} else {\n\t\t\t\t\tthis.$element.removeClass('complete');\n\t\t\t\t}\n\n\t\t\t\tvar kids = this.$nextBtn.children().detach();\n\t\t\t\tthis.$nextBtn.text(text).append(kids);\n\t\t\t}\n\n\t\t\t// reset classes for all steps\n\t\t\tvar $steps = this.$element.find('.steps li');\n\t\t\t$steps.removeClass('active').removeClass('complete');\n\t\t\t$steps.find('span.badge').removeClass('badge-info').removeClass('badge-success');\n\n\t\t\t// set class for all previous steps\n\t\t\tvar prevSelector = '.steps li:lt(' + (this.currentStep - 1) + ')';\n\t\t\tvar $prevSteps = this.$element.find(prevSelector);\n\t\t\t$prevSteps.addClass('complete');\n\t\t\t$prevSteps.find('span.badge').addClass('badge-success');\n\n\t\t\t// set class for current step\n\t\t\tvar currentSelector = '.steps li:eq(' + (this.currentStep - 1) + ')';\n\t\t\tvar $currentStep = this.$element.find(currentSelector);\n\t\t\t$currentStep.addClass('active');\n\t\t\t$currentStep.find('span.badge').addClass('badge-info');\n\n\t\t\t// set display of target element\n\t\t\tvar $stepContent = this.$element.find('.step-content');\n\t\t\tvar target = $currentStep.attr('data-step');\n\t\t\t$stepContent.find('.step-pane').removeClass('active');\n\t\t\t$stepContent.find('.step-pane[data-step=\"' + target + '\"]:first').addClass('active');\n\n\t\t\t// reset the wizard position to the left\n\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: 0');\n\n\t\t\t// check if the steps are wider than the container div\n\t\t\tvar totalWidth = 0;\n\t\t\tthis.$element.find('.steps > li').each(function () {\n\t\t\t\ttotalWidth += $(this).outerWidth();\n\t\t\t});\n\t\t\tvar containerWidth = 0;\n\t\t\tif (this.$element.find('.actions').length) {\n\t\t\t\tcontainerWidth = this.$element.width() - this.$element.find('.actions').first().outerWidth();\n\t\t\t} else {\n\t\t\t\tcontainerWidth = this.$element.width();\n\t\t\t}\n\n\t\t\tif (totalWidth > containerWidth) {\n\t\t\t\t// set the position so that the last step is on the right\n\t\t\t\tvar newMargin = totalWidth - containerWidth;\n\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: -' + newMargin + 'px');\n\n\t\t\t\t// set the position so that the active step is in a good\n\t\t\t\t// position if it has been moved out of view\n\t\t\t\tif (this.$element.find('li.active').first().position().left < 200) {\n\t\t\t\t\tnewMargin += this.$element.find('li.active').first().position().left - 200;\n\t\t\t\t\tif (newMargin < 1) {\n\t\t\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: 0');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$element.find('.steps').first().attr('style', 'margin-left: -' + newMargin + 'px');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// only fire changed event after initializing\n\t\t\tif (typeof (this.initialized) !== 'undefined') {\n\t\t\t\tvar e = eventer.create('changed.fu.wizard');\n\t\t\t\tthis.$element.trigger(e, {\n\t\t\t\t\tstep: this.currentStep\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.initialized = true;\n\t\t},\n\n\t\tstepclicked: function (e) {\n\t\t\tvar li = $(e.currentTarget);\n\t\t\tvar index = this.$element.find('.steps li').index(li);\n\n\t\t\tif (index < this.currentStep && this.options.disablePreviousStep) {//enforce restrictions\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tvar evt = eventer.create('stepclicked.fu.wizard');\n\t\t\t\tthis.$element.trigger(evt, {\n\t\t\t\t\tstep: index + 1\n\t\t\t\t});\n\t\t\t\tif (evt.isDefaultPrevented()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.currentStep = (index + 1);\n\t\t\t\tthis.setState();\n\t\t\t}\n\t\t},\n\n\t\tsyncSteps: function () {\n\t\t\tvar i = 1;\n\t\t\tvar $steps = this.$element.find('.steps');\n\t\t\tvar $stepContent = this.$element.find('.step-content');\n\n\t\t\t$steps.children().each(function () {\n\t\t\t\tvar item = $(this);\n\t\t\t\tvar badge = item.find('.badge');\n\t\t\t\tvar step = item.attr('data-step');\n\n\t\t\t\tif (!isNaN(parseInt(badge.html(), 10))) {\n\t\t\t\t\tbadge.html(i);\n\t\t\t\t}\n\n\t\t\t\titem.attr('data-step', i);\n\t\t\t\t$stepContent.find('.step-pane[data-step=\"' + step + '\"]:last').attr('data-step', i);\n\t\t\t\ti++;\n\t\t\t});\n\t\t},\n\n\t\tprevious: function () {\n\t\t\tif (this.options.disablePreviousStep || this.currentStep === 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar e = eventer.create('actionclicked.fu.wizard');\n\t\t\tthis.$element.trigger(e, {\n\t\t\t\tstep: this.currentStep,\n\t\t\t\tdirection: 'previous'\n\t\t\t});\n\t\t\tif (e.isDefaultPrevented()) {\n\t\t\t\treturn;\n\t\t\t}// don't increment ...what? Why?\n\n\t\t\tthis.currentStep -= 1;\n\t\t\tthis.setState();\n\n\t\t\t// only set focus if focus is still on the $nextBtn (avoid stomping on a focus set programmatically in actionclicked callback)\n\t\t\tif (this.$prevBtn.is(':focus')) {\n\t\t\t\tvar firstFormField = this.$element.find('.active').find('input, select, textarea')[0];\n\n\t\t\t\tif (typeof firstFormField !== 'undefined') {\n\t\t\t\t\t// allow user to start typing immediately instead of having to click on the form field.\n\t\t\t\t\t$(firstFormField).focus();\n\t\t\t\t} else if (this.$element.find('.active input:first').length === 0 && this.$prevBtn.is(':disabled')) {\n\t\t\t\t\t//only set focus on a button as the last resort if no form fields exist and the just clicked button is now disabled\n\t\t\t\t\tthis.$nextBtn.focus();\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\tnext: function () {\n\t\t\tvar e = eventer.create('actionclicked.fu.wizard');\n\t\t\tthis.$element.trigger(e, {\n\t\t\t\tstep: this.currentStep,\n\t\t\t\tdirection: 'next'\n\t\t\t});\n\t\t\tif (e.isDefaultPrevented()) {\n\t\t\t\treturn;\n\t\t\t}// respect preventDefault in case dev has attached validation to step and wants to stop propagation based on it.\n\n\t\t\tif (this.currentStep < this.numSteps) {\n\t\t\t\tthis.currentStep += 1;\n\t\t\t\tthis.setState();\n\t\t\t} else {//is last step\n\t\t\t\tthis.$element.trigger('finished.fu.wizard');\n\t\t\t}\n\n\t\t\t// only set focus if focus is still on the $nextBtn (avoid stomping on a focus set programmatically in actionclicked callback)\n\t\t\tif (this.$nextBtn.is(':focus')) {\n\t\t\t\tvar firstFormField = this.$element.find('.active').find('input, select, textarea')[0];\n\n\t\t\t\tif (typeof firstFormField !== 'undefined') {\n\t\t\t\t\t// allow user to start typing immediately instead of having to click on the form field.\n\t\t\t\t\t$(firstFormField).focus();\n\t\t\t\t} else if (this.$element.find('.active input:first').length === 0 && this.$nextBtn.is(':disabled')) {\n\t\t\t\t\t//only set focus on a button as the last resort if no form fields exist and the just clicked button is now disabled\n\t\t\t\t\tthis.$prevBtn.focus();\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\tselectedItem: function (selectedItem) {\n\t\t\tvar retVal, step;\n\n\t\t\tif (selectedItem) {\n\t\t\t\tstep = selectedItem.step || -1;\n\t\t\t\t//allow selection of step by data-name\n\t\t\t\tstep = Number(this.$element.find('.steps li[data-name=\"' + step + '\"]').first().attr('data-step')) || Number(step);\n\n\t\t\t\tif (1 <= step && step <= this.numSteps) {\n\t\t\t\t\tthis.currentStep = step;\n\t\t\t\t\tthis.setState();\n\t\t\t\t} else {\n\t\t\t\t\tstep = this.$element.find('.steps li.active:first').attr('data-step');\n\t\t\t\t\tif (!isNaN(step)) {\n\t\t\t\t\t\tthis.currentStep = parseInt(step, 10);\n\t\t\t\t\t\tthis.setState();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tretVal = this;\n\t\t\t} else {\n\t\t\t\tretVal = {\n\t\t\t\t\tstep: this.currentStep\n\t\t\t\t};\n\t\t\t\tif (this.$element.find('.steps li.active:first[data-name]').length) {\n\t\t\t\t\tretVal.stepname = this.$element.find('.steps li.active:first').attr('data-name');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn retVal;\n\t\t}\n\n\t});\n\n   plugins.register(Wizard);\n\n\treturn panels.Wizard = Wizard;\n\n});\n\ndefine('skylark-domx-plugins-panels/main',[\n    \"./panels\",\n    \"./accordion\",\n    \"./collapsible\",\n    \"./floating\",\n    \"./pagination\",\n    \"./panel\",\n    \"./tabstrip\",\n    \"./toolbar\",\n    \"./wizard\"\n], function(panels) {\n    return panels;\n});\ndefine('skylark-domx-plugins-panels', ['skylark-domx-plugins-panels/main'], function (main) { return main; });\n\n"]}